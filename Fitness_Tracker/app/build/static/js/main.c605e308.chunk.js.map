{"version":3,"sources":["utils/keyGenerator.js","generic/LoadingScreen.js","generic/fieldComponents.js","login/SignInFunc.js","login/SignUpFunc.js","login/FormCard.js","messages/Error.js","messages/Success.js","endpoints.js","login/Login.js","login/Confirmation.js","login/PwResetPage.js","Context.js","community/Searchbar.js","utils/userInfo.js","community/friends/FriendDisplay.js","community/friends/FriendRequests.js","community/header/CommunityHeader.js","community/friends/Friends.js","community/Community.js","fitness/carousel/ImageSlide.js","fitness/carousel/Arrow.js","utils/unitConverter.js","fitness/carousel/Carousel.js","fitness/Calories.js","fitness/Duration.js","fitness/charts/Past.js","fitness/run/RunDoughnut.js","fitness/withFitnessPage.js","fitness/charts/PaceLineProgression.js","fitness/run/Run.js","fitness/jump/Jump.js","fitness/Details.js","fitness/swim/SwimDoughnut.js","fitness/swim/Swim.js","fitness/Fitness.js","fitness/charts/DateBar.js","fitness/run/RunDetails.js","fitness/swim/SwimDetails.js","fitness/jump/JumpDetails.js","profile/EditProfileFunc.js","profile/UserProfile.js","profile/SearchProfile.js","profile/Profile.js","settings/dropdown-menus/UnitSystemMenu.js","settings/dropdown-menus/PoolLengthMenu.js","settings/dropdown-menus/PrivacyMenu.js","settings/PoolLengthPopup.js","settings/Settings.js","settings/Stats.js","generic/Navbar.js","home/Home.js","generic/SideMenu.js","home/Header.js","Spa.js","App.js","index.js","utils/storage.js"],"names":["module","exports","makeID","length","result","characters","charactersLength","i","charAt","Math","floor","random","LoadingScreen","react_default","a","createElement","className","Component","inputErrorStyle","border","errorMsgStyle","color","fontSize","width","textAlign","textField","label","type","name","error","touched","htmlFor","formik_esm","style","msg","SignInFunc","props","validationSchema","Yup","signInEmail","required","signInPassword","remember","max","initialValues","onSubmit","values","_ref","setSubmitting","console","log","onSignIn","_ref2","spanClassName","errors","id","value","SignUpFunc","signUpEmail","email","signUpPassword","matches","signUpPasswordConf","oneOf","signUpFirstName","signUpLastName","signUpUsername","onSignUp","FormCard","checked","this","renderSignIn","onChange","onSignInClick","onSignUpClick","ErrorAlert","_useState","useState","_useState2","Object","slicedToArray","show","setShow","Alert","variant","onClose","dismissible","Success","serverURL","ENDPOINTS","server","concat","emailVerify","signUp","signIn","tokenToID","confirm","passwordReset","forgotPassword","sendFriendReq","acceptFriendReq","getSearchUser","searchUser","getSearchUserBasicInfo","getSearchUserFriends","getSearchUserFitness","getData","getUserInfo","updateProfile","checkDuplicatePic","uploadProfilePic","getBests","getProfilePic","getUsername","updateSettings","upload","verifyURL","signUpURL","signInURL","storeToken","token","setInLocalStorage","storageKey","setInSessionStorage","Login","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","state","isLoading","signedIn","errorMsgs","Set","successMsgs","displayErrors","bind","assertThisInitialized","showSuccesses","showError","showSuccess","switchToSignIn","switchToSignUp","clearSignUp","clearSignIn","tokenLogin","obj","getFromLocalStorage","err","setState","signUpUserName","headers","Headers","append","fetch","method","res","json","success","messages","Content-Type","body","JSON","stringify","password","passwordConf","firstName","lastName","username","toConsumableArray","signUpValid","newErrors","stored","alert","prevState","idx","_this2","messages_Error","key","filter","errMsg","map","_this3","messages_Success","successMsg","getToken","react_router","to","pathname","rel","href","generic_LoadingScreen","login_FormCard","signInValid","Confirmation","renderDisplay","queryValues","queryString","parse","location","search","emailToken","confirmUrl","then","catch","confirmationErrors","removeFromLocalStorage","Fragment","onClick","history","push","withRouter","confirmPwRestUrl","verifyUrl","PwResetPage","validToken","newPwText","newPwTextConf","onNewPassChange","onNewPassConfChange","setInStorage","e","target","_this$state","reqBody","newPassword","data-type","pattern","title","SpaContext","React","createContext","Searchbar","onMouseLeave","mouseLeave","placeholder","onSearchTextChange","searchText","getBestsURL","getProfileURL","getUsernameURL","_x","_getBests","apply","arguments","_callee","bestsJson","regenerator_default","wrap","_context","prev","next","sent","abrupt","bests","stop","getProfile","_x2","_getProfile","_callee2","profileJson","_context2","profilePicture","profileURL","_x3","_getUsername","_callee3","usernameJson","_context3","FriendDisplay","src","profileUrl","defaultProfile","alt","imgAlt","isFriend","rank","isFriendRequest","onAcceptRequest","FriendRequests","friendRequestListItems","createFriendRequests","friendRequests","addFriendToState","removeFriendReq","acceptRequest","liTags","Promise","all","protoStyle","numRequests","marginTop","CommunityHeader","setDisplay","Friends","friendTableRows","context","contextType","searchURL","friendReqURL","acceptFriendURL","Community","_isMounted","display","searches","showQueries","emptySearch","numFriendsDisplay","renderSearch","sendReq","clearSearch","newDisplay","removed","friend","senderID","friends","friendObject","preventDefault","userToken","message","undefined","users","userID","_id","receiverFirstName","receiverLastName","receiverUsername","socket","decodeToken","emit","senderFirstName","senderLastName","senderUsername","receiverID","otherFriendID","_this$context3","friendsPending","rootURL","friendSet","user","requestSet","pendingSet","forEach","toUpperCase","slice","react_router_dom","has","displayButton","toLowerCase","friends_Friends","friends_FriendRequests","userFirstName","userLastName","community_Searchbar","header_CommunityHeader","ImageSlide","getLabels","renderNum","action","unitSystem","settings","numLabel","secondaryLabel","stats","indexDisplay","activityData","labels","num","_this$props","renderSecondary","imageUrl","Arrow","direction","clickFunction","glyph","activity","kgToLbs","lbsToKg","inToCm","cmToIn","ftToCm","weightConvert","system","weight","parsed","split","units","convertedWeight","round","parseInt","toString","heightConvert","height","convertedHeight","heightInCm","feet","inches","englishHeight","parseDate","date","Carousel","dropdownItemClick","dropdownItems","session","Date","uploadDate","dayMonth","previousSlide","nextSlide","activityIndex","displayDate","data-toggle","aria-haspopup","aria-expanded","getDropdownDates","carousel_Arrow","carousel_ImageSlide","Calories","react_fontawesome_index_es","icon","cals","Duration","duration","Past","Chart","pluginService","register","zoom","data","hoverLabel","yAxisMin","yAxisMax","chartTitle","react_chartjs_2_es","datasets","backgroundColor","borderColor","borderWidth","options","maintainAspectRatio","plugins","text","legend","position","scales","yAxes","ticks","min","responsive","RunDoughnut","colors","reverse","array","n","middle","temp","withFitnessPage","WrappedComponent","WithFitnessPage","_Component","pastGraphLabels","pastGraphData","progressionLabels","progressionDate","makePastGraphLabels","makePastGraphData","calcAvgNum","calcAvgCals","inherits","createClass","decimals","parseFloat","toFixed","input","activityJson","dateInfo","avg","count","calories","nextIndex","assign","isNullOrUndefined","roundToNDecimals","LineProgression","Run","paceLabels","paceDate","estimateDistanceRun","runCount","walkCount","runJson","paces","pace","j","isNaN","runPercent","walkPercent","totalTime","timeInterval","timeSeries","Array","currentStatDisplay","fitness_carousel_Carousel","align","time","charts_Past","PaceLineProgression_LineProgression","makePaceLabels","calcAvgPace","makeDoughnutData","Jump","getCurrentBestHeight","jumpJson","heights","verticalHeight","best","_this$context","calcAvgHeight","jump","Details","detailsLink","SwimDoughnut","Swim","calculateDistance","calcAvgSpeed","_this$context$setting","swimLap","distanceInMeters","distanceInYards","_this$context$setting2","_this$props2","distMetric","distance","lapTimes","reduce","b","avgSpeed","_this$props3","totalNumLaps","flyCount","backCount","breastCount","freeCount","strokes","stroke","lowerCaseStroke","swimJson","_this$props4","calcAvgTimePerLap","Fitness","activityDisplay","renderActivity","changeActivityDisplay","run_Run","jump_Jump","swim_Swim","showTransition","DateBar","overflowX","d","x","y","xAxes","stepSize","maxRotation","scaleLabel","labelString","animation","easing","pan","enabled","mode","speed","threshold","limits","dataURL","RunDetails","setJumpData","localStorageKey","response","chartLabels","makeLabels","chartData","h","fitness_charts_DateBar","SwimDetails","JumpDetails","flexDirection","justifyContent","alignItems","updateProfileURL","checkDuplicateURL","uploadPicURL","EditProfileFunc","useContext","updateFirstName","updateLastName","updateBio","updateAge","positive","integer","updateLocation","updateGender","updateHeightCm","updateHeightIn","updateHeightFt","updateWeight","_updateProfile","asyncToGenerator","mark","formValues","file","formData","verifyRes","verifyJson","uploadPicRes","updateRes","updateJson","FormData","etag","bio","gender","age","window","reload","mounted","setFieldValue","event","currentTarget","files","accept","as","textArea","weightDisplay","heightDisplay","closePopup","UserProfile","bestJump","bestSwim","bestRun","editProfile","expandBio","ShowMoreText_default","lines","more","less","anchorClass","expanded","displayHeight","Error","_this$context2","displayWeight","editBtn","reactjs_popup_es","trigger","modal","close","renderPopup","renderHeight","renderWeight","renderBio","getSearchUserUrl","getBasicInfoURL","getFriendsURL","getFitnessURL","SearchProfile","totals","getBasicInfo","getFriends","getTotalsAndBests","seeBasicInfo","match","params","seeFriendsList","seeFitness","postBody","searchUserName","_context4","t0","steps","minutes","laps","Profile","profile_UserProfile","profile_SearchProfile","UnitSystemMenu","dropdownText","aria-labelledby","onSelect","PoolLengthMenu","onCustomSwimClick","PrivacyMenu","PoolLengthPopup","open","showCustomSwimSettings","closeOnDocumentClick","closeCustomSwimSettings","setCustomSwimLength","onCustomSwimLengthChange","step","customSwimUnits","setCustomSwimUnits","settingsURL","Settings","currCustomSwimLength","customSwimLength","friendsListChoice","fitnessChoice","basicInfoChoice","unitDisplayChoice","swimLengthChoice","saveSettings","openCustomSwimSettings","setFriendsListChoice","setFitnessChoice","setBasicInfoChoice","setUnitDisplayChoice","setSwimLengthChoice","displaySuccesses","$","tooltip","updateUserInfo","textContent","_this$state2","menuType","_this$state3","data-placement","renderDropDown","updateSettingsURL","lsUserToken","ssUserToken","getFromSessionStorage","Stats","submitSettings","radioChange","checkUnitSystem","Navbar","sideNavStyle","clicked","selected","document","getElementById","homeURL","communityURL","fitnessURL","logout","openNav","closeNav","exact","Home","particles_default","particles","number","size","line_linked","opacity","interactivity","events","onhover","enable","modes","grab","SideMenu","getUserInfoURL","root","Header","notification","url","getActivityJson","addFriendRows","renderHeader","trackedFitness","tableRows","userJson","t1","jumpsTracked","swimsTracked","runsTracked","t2","objectSpread","removeFromSessionStorage","react_media","query","render","generic_Navbar","_this4","generic_SideMenu","_this5","Context","Provider","renderSideMenu","path","component","settings_Settings","Spa","App","src_Spa","library","add","faCheckSquare","faCoffee","faAtom","faFireAlt","faClock","ReactDOM","src_App_0","valueStr","localStorage","getItem","sessionStorage","setItem","removeItem","socketStorageKey"],"mappings":"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","file":"static/js/main.c605e308.chunk.js","sourcesContent":["// generates a random string of length\nfunction makeID(length) {\n   var result           = '';\n   var characters       = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n   var charactersLength = characters.length;\n   for ( var i = 0; i < length; i++ ) {\n      result += characters.charAt(Math.floor(Math.random() * charactersLength));\n   }\n   return result;\n}\n\nmodule.exports = { makeID }\n","import React, { Component } from 'react';\n\nclass LoadingScreen extends Component {\n  render() {\n    return (\n      <div className=\"loading-screen\">\n        <h1>Loading...</h1>\n      </div>\n    )\n  }\n}\n\nexport default LoadingScreen\n","import React from 'react'\nimport { Field, ErrorMessage } from 'formik'\n// specifically for edit profile page\nconst inputErrorStyle = {'border': '2px solid rgb(255, 162, 162)'}\nconst errorMsgStyle = { 'color' : 'rgb(255, 162, 162)', 'fontSize': '10pt', 'width': '90%', 'textAlign': 'left' }\n\nfunction weightDisplay(name, className, unitSystem, errors) {\n  return (\n    <div className='field-container'>\n      <label htmlFor='updateWeight'>Weight</label>\n      <div className='weight-container'>\n        <Field \n          style={errors.updateWeight ? inputErrorStyle : null}\n          name={name}\n          className={className}\n          type=\"number\"\n        />\n        <span className='weight-units'>{(unitSystem === \"english\") ? \"lbs\" : \"kg\"}</span>\n      </div>\n      <ErrorMessage name={name}>{msg => <div style={errorMsgStyle}>{msg}</div>}</ErrorMessage>\n    </div>\n  )\n}\n\n// specifically for edit profile page\nfunction heightDisplay(name, className, unitSystem, errors) {\n  if (unitSystem === \"English\") {\n    return (\n      <div className='height-wrapper'>\n        <label htmlFor='height'>Height</label>\n        <div id='height' className=\"field-container\">\n          <div className='height-container'>\n            <Field \n              style={errors.updateHeightFt ? inputErrorStyle : null}\n              name='updateHeightFt'\n              className={className}\n              type=\"number\"\n            />\n            <span className='height-units ft'>ft</span>\n          </div>\n          <ErrorMessage name='updateHeightFt'>{msg => <div style={errorMsgStyle}>{msg}</div>}</ErrorMessage>\n          <div className='height-container'>\n            <Field \n              style={errors.updateHeightIn? inputErrorStyle : null}\n              name='updateHeightIn'\n              className={className}\n              type=\"number\"\n            />\n            <span className='height-units in'>in</span>\n          </div>\n          <ErrorMessage name='updateHeightIn'>{msg => <div style={errorMsgStyle}>{msg}</div>}</ErrorMessage>\n        </div>\n      </div>\n    )\n  } else {\n    return (\n      <div className='height-wrapper'>\n        <label htmlFor='height'>Height</label>\n        <div className=\"field-container\">\n          <div className='height-container'>\n            <Field \n              style={errors.updateHeightCm ? inputErrorStyle : null}\n              name='updateHeightCm'\n              className={className}\n              type=\"number\"\n            />\n            <span className='height-units cm'>cm</span>\n          </div>\n          <ErrorMessage name='updateHeightCm'>{msg => <div style={errorMsgStyle}>{msg}</div>}</ErrorMessage>\n        </div>\n      </div>\n    )\n  }\n}\n\nfunction textField(label, type, name, className, error, touched) {\n  return (\n    <div className='field-container group'>\n      <label className='label' htmlFor={name}>{label}</label>\n      <Field \n        style={error && touched ? inputErrorStyle : null}\n        name={name}\n        className={className}\n        type={type}\n      />\n      <ErrorMessage name={name}>{msg => <div style={errorMsgStyle}>{msg}</div>}</ErrorMessage>\n    </div>\n  )\n}\nfunction textArea(label, name, className, error, touched) {\n  return (\n    <div className='field-container group'>\n      <label className='label' htmlFor={name}>{label}</label>\n      <Field\n        name={name}\n        className={className}\n        type=\"text\"\n        as='textarea'\n        style={error && touched ? inputErrorStyle : null}\n      />\n      <ErrorMessage style={errorMsgStyle} name={name}/>\n    </div>\n  )\n}\nfunction checkBox(label, name, spanClassName) {\n  return (\n    <div className='group'>\n      <Field\n        type=\"checkbox\"\n        name={name}\n        id='check'\n        className='check'\n      />\n      <label htmlFor=\"check\">\n        <span className={spanClassName}></span> {label}\n      </label>\n    </div>\n  )\n}\nexport {\n  weightDisplay,\n  heightDisplay,\n  textArea,\n  textField,\n  checkBox,\n}","import React from 'react'\nimport { Formik, Form } from 'formik'\nimport * as Yup from 'yup';\nimport { textField, checkBox } from '../generic/fieldComponents'\nexport default function SignInFunc(props) {\n  const validationSchema = Yup.object({\n    signInEmail: Yup.string()\n      .required('Cannot be empty'),\n    signInPassword: Yup.string()\n      .required('Cannot be empty'),\n    remember: Yup.string()\n      .max(250, \"Must be 250 characters or less\"),\n  })\n  return (\n    <div className='sign-in-htm'>\n      <Formik\n        initialValues={{\n          signInEmail: '',\n          signInPassword: '',\n          remember: false,\n        }}\n        validationSchema={validationSchema}\n        onSubmit={(values, { setSubmitting }) => {\n          console.log(values)\n          props.onSignIn(values)\n          setSubmitting(false)\n        }}\n      >\n        {({ errors, touched }) => (\n          <Form>\n            {textField('Email', 'text', 'signInEmail', 'input-field', errors.signInEmail, touched.signInEmail)}\n            {textField('Password', 'password', 'signInPassword', 'input-field', errors.signInPassword, touched.signInPassword)}\n            {checkBox('Keep me signed in', 'remember', 'icon')}\n            <div className=\"group\">\n              <input type=\"submit\" className=\"button\" value=\"Sign In\" id=\"signInButton\" />\n            </div>\n          </Form>\n        )}\n      </Formik>\n    </div>\n  )\n}\n","import React from 'react'\nimport { Formik, Form } from 'formik'\nimport * as Yup from 'yup';\nimport { textField } from '../generic/fieldComponents'\n\nexport default function SignUpFunc(props) {\n  const validationSchema = Yup.object({\n    signUpEmail: Yup.string()\n      .required('Cannot be empty')\n      .email('Please enter a valid email')\n      .max(100, 'Must be less than 100 characters long'),\n    signUpPassword: Yup.string()\n      .required('Cannot be empty')\n      .matches(\n        /^(?=.*[A-Za-z])(?=.*\\d)[A-Za-z\\d]{8,}$/,\n        \"Must contain 8 characters, one uppercase, one lowercase, and one number\"\n      ),\n    signUpPasswordConf: Yup.string()\n      .required('Cannot be empty')\n      .matches(\n        /^(?=.*[A-Za-z])(?=.*\\d)[A-Za-z\\d]{8,}/,\n        \"Must contain 8 characters, one uppercase, one lowercase, one number\"\n      )\n      .oneOf([Yup.ref('signUpPassword'), null], 'Passwords must match'),\n    signUpFirstName: Yup.string()\n      .required('Cannot be empty'),\n    signUpLastName: Yup.string()\n      .required('Cannot be empty'),\n    signUpUsername: Yup.string()\n      .required('Cannot be empty'),\n  })\n  return (\n    <div className=\"sign-up-htm\">\n      <Formik\n        initialValues={{\n          signUpEmail: '',\n          signUpPassword: '',\n          signUpPasswordConf: '',\n          signUpFirstName: '',\n          signUpLastName: '',\n          signUpUsername: '',\n        }}\n        validationSchema={validationSchema}\n        onSubmit={(values, { setSubmitting }) => {\n          console.log(values)\n          props.onSignUp(values)\n          setSubmitting(false)\n        }}\n      >\n        {({ errors, touched }) => (\n          <Form>\n            {textField(\n              'Email',\n              'text',\n              'signUpEmail',\n              'input-field',\n              errors.signUpEmail,\n              touched.signUpEmail\n            )}\n            {textField('Password', 'password', 'signUpPassword', 'input-field', errors.signUpPassword, touched.signUpPassword)}\n            {textField('Repeat Password', 'password', 'signUpPasswordConf', 'input-field', errors.signUpPasswordConf, touched.signUpPasswordConf)}\n            {textField('First Name', 'text', 'signUpFirstName', 'input-field', errors.signUpFirstName, touched.signUpFirstName)}\n            {textField('Last Name', 'text', 'signUpLastName', 'input-field', errors.signUpLastName, touched.signUpLastName)}\n            {textField('Username', 'text', 'signUpUsername', 'input-field', errors.signUpUsername, touched.signUpUsername)}\n            <div className=\"group\">\n              <input type=\"submit\" className=\"button\" value=\"Sign Up\" id=\"signInButton\" />\n            </div>\n          </Form>\n        )}\n      </Formik>\n    </div>\n  )\n}\n","import React, { Component } from 'react';\nimport SignInFunc from \"./SignInFunc\"\nimport SignUpFunc from \"./SignUpFunc\"\nclass FormCard extends Component {\n  render() {\n    return (\n      <div className=\"headers\">\n        <input\n          id=\"tab-1\"\n          type=\"radio\"\n          name=\"tab\"\n          className=\"sign-in\"\n          checked={this.props.renderSignIn}\n          onChange={this.props.onSignInClick}\n        >\n        </input>\n        <label htmlFor=\"tab-1\" className=\"tab\">Sign In</label>\n        <input\n          id=\"tab-2\"\n          type=\"radio\"\n          name=\"tab\"\n          className=\"sign-up\"\n          checked={!this.props.renderSignIn}\n          onChange={this.props.onSignUpClick}\n        >\n        </input><label htmlFor=\"tab-2\" className=\"tab\">Sign Up</label>\n        <div className=\"login-form\">\n          <SignInFunc \n            onSignIn={this.props.onSignIn}\n          />\n          <SignUpFunc\n            onSignUp={this.props.onSignUp}\n          />\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default FormCard\n","import React, { useState } from 'react';\nimport Alert from \"react-bootstrap/Alert\"\nfunction ErrorAlert(props) {\n  const [show, setShow] = useState(true);\n  if (show) {\n    return (\n      <Alert \n        variant=\"danger\"\n        onClose={() => {setShow(false); props.onClose();}}\n        dismissible\n      >\n        <p>\n          {props.msg}\n        </p>\n      </Alert>\n    );\n  } else {\n    return null\n  }\n}\n\nexport default ErrorAlert\n","import React, { useState } from 'react';\nimport Alert from \"react-bootstrap/Alert\"\nfunction Success(props) {\n  const [show, setShow] = useState(true);\n  if (show) {\n    return (\n      <Alert\n        variant=\"success\"\n        onClose={() => {setShow(false); props.onClose();}}\n        dismissible\n      >\n        <p>\n          {props.msg}\n        </p>\n      </Alert>\n    );\n  } else {\n    return null\n  }\n}\n\nexport default Success\n","const serverURL = \"https://us-central1-athlos-live-beta.cloudfunctions.net/athlos-server\"\nconst ENDPOINTS = {\n    server: `${serverURL}`,\n    // login, signup, and emails\n    emailVerify: `${serverURL}/api/account/verify`,\n    signUp: `${serverURL}/api/account/signup`,\n    signIn: `${serverURL}/api/account/signin`,\n    tokenToID: `${serverURL}/tokenToID`,\n    confirm: `${serverURL}/confirmation`,\n    passwordReset: `${serverURL}/confPasswordReset`,\n    forgotPassword: `${serverURL}/forgotPassword`,\n\n    // friend stuff\n    sendFriendReq: `${serverURL}/sendFriendReq`,\n    acceptFriendReq: `${serverURL}/acceptRequest`,\n\n    // search stuff\n    getSearchUser: `${serverURL}/getSearchUser`,\n    searchUser: `${serverURL}/searchUser`,\n    getSearchUserBasicInfo: `${serverURL}/getSearchUserBasicInfo`,\n    getSearchUserFriends: `${serverURL}/getSearchUserFriends`,\n    getSearchUserFitness: `${serverURL}/getSearchUserFriends`,\n\n    // user data and info\n    getData: `${serverURL}/data`,\n    getUserInfo: `${serverURL}/getUserInfo`,\n    updateProfile: `${serverURL}/updateProfile`,\n    checkDuplicatePic: `${serverURL}/checkDuplicatePic`,\n    uploadProfilePic: `${serverURL}/uploadProfilePic`,\n    getBests: `${serverURL}/getBests`,\n    getProfilePic: `${serverURL}/getProfilePic`,\n    getUsername: `${serverURL}/getUsername`,\n    updateSettings: `${serverURL}/updateSettings`,\n    upload: `${serverURL}/upload`,\n}\n\nexport default ENDPOINTS","import React, { Component } from 'react';\nimport 'whatwg-fetch';\nimport {\n  getToken,\n  getFromLocalStorage,\n  setInLocalStorage,\n  setInSessionStorage,\n  storageKey\n} from '../utils/storage';\n\nimport { Redirect } from 'react-router';\n\nimport LoadingScreen from \"../generic/LoadingScreen\"\nimport FormCard from \"./FormCard\"\nimport \"./style.css\"\nimport ErrorAlert from \"../messages/Error\"\nimport Success from \"../messages/Success\"\n\nimport 'react-inputs-validation/lib/react-inputs-validation.min.css';\n\nimport ENDPOINTS from '../endpoints'\n\nconst verifyURL = ENDPOINTS.emailVerify\nconst signUpURL = ENDPOINTS.signUp\nconst signInURL = ENDPOINTS.signIn\n\n// stores token in localstorage if user clicked remember me\n// else stores it in session storage\nfunction storeToken(remember, token) {\n  if (remember) {\n    setInLocalStorage(storageKey, { token })\n  } else {\n    setInSessionStorage(storageKey, { token })\n  }\n}\n\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      isLoading: true,\n      signedIn: false,\n      token: '',\n      renderSignIn: true, // specifies whether the card should show signin or signup\n      errorMsgs: new Set(),\n      successMsgs: new Set(),\n    };\n\n    this.displayErrors = this.displayErrors.bind(this)\n    this.showSuccesses = this.showSuccesses.bind(this)\n    this.showError = this.showError.bind(this)\n    this.showSuccess = this.showSuccess.bind(this)\n\n    this.switchToSignIn = this.switchToSignIn.bind(this)\n    this.switchToSignUp = this.switchToSignUp.bind(this)\n\n    this.clearSignUp = this.clearSignUp.bind(this)\n    this.clearSignIn = this.clearSignIn.bind(this)\n\n    this.onSignIn = this.onSignIn.bind(this);\n    this.onSignUp = this.onSignUp.bind(this)\n    this.tokenLogin = this.tokenLogin.bind(this)\n  }\n  \n  componentDidMount() {\n    console.log(\"mounting...\")\n    // get the localstorage object which may contain the _id token\n    const obj = getFromLocalStorage(storageKey)\n    // there was a token in local storage\n    if (obj && obj.token) {\n      try {\n        this.tokenLogin(obj.token)\n      } catch(err) {\n        throw err\n      }\n    } else { // there was no token in local storage\n      this.setState({\n        isLoading: false,\n      })\n    }\n  }\n\n  clearSignIn() {\n    this.setState({\n      isLoading: false,\n      signInEmail: '',\n      signInPassword: '',\n      remember: false,\n    })\n  }\n\n  clearSignUp() {\n    console.log(\"clearing...\")\n    this.setState({\n      isLoading: false,\n      signUpEmail: '',\n      signUpPassword: '',\n      signUpPasswordConf: '',\n      signUpFirstName: '',\n      signUpLastName: '',\n      signUpUserName: '',\n    })\n  }\n\n  // MAKE SURE TO DISALLOW WHITELISTED SPECIAL CHARACTERS\n  // MAKE SURE TO VALIDATE INPUTS ON SERVER SIDE EVENTUALLY\n  // checks if there is a token in localstorage for login\n  async tokenLogin(token) {\n    console.log(\"token is: \", token)\n\n    // add the token in the headers\n    var headers = new Headers()\n    headers.append(\"authorization\", `Bearer ${token}`)\n\n    // Verify token\n    var res = await fetch(verifyURL, {\n      method: \"GET\",\n      headers,\n    })\n    var json = await res.json()\n    if (json.success) {\n      this.setState({\n        token,\n        signedIn: true,\n        isLoading: false\n      })\n    } else {\n      console.log(\"verification of token went wrong\")\n      console.log(json.messages)\n      this.setState({\n        isLoading: false,\n      })\n    }\n  }\n\n  // MAKE SURE TO DISALLOW WHITELISTED SPECIAL CHARACTERS\n  // MAKE SURE TO VALIDATE INPUTS ON SERVER SIDE EVENTUALLY\n  async onSignUp(values) {\n    // every entry must be true for all input fields to be valid\n    this.setState({ errorMsgs: [], successMsgs: []})\n    console.log(\"signing up...\")\n    var {\n      signUpEmail,\n      signUpPassword,\n      signUpPasswordConf,\n      signUpFirstName,\n      signUpLastName,\n      signUpUsername,\n    } = values\n\n    // Post request to backend\n    var res = await fetch(signUpURL, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        password: signUpPassword,\n        passwordConf: signUpPasswordConf,\n        email: signUpEmail,\n        firstName: signUpFirstName,\n        lastName: signUpLastName,\n        username: signUpUsername\n      }),\n    })\n    var json = await res.json()\n    console.log('json', json);\n    if (json.success) {\n      this.setState({ successMsgs: new Set([...json.messages]) })\n      this.clearSignUp()\n      this.signUpValid = [false, false, false, false, false, false]\n    } else {\n      var newErrors = new Set([...json.messages])\n      this.setState({isLoading: false, errorMsgs: newErrors})\n    }\n  }\n\n  // MAKE SURE TO DISALLOW WHITELISTED SPECIAL CHARACTERS\n  // MAKE SURE TO VALIDATE INPUTS ON SERVER SIDE EVENTUALLY\n  async onSignIn(values) {\n    this.setState({ errorMsgs: [], successMsgs: [] })\n    // Grab state\n    const {\n      signInEmail,\n      signInPassword,\n      remember\n    } = values;\n    console.log(\"signing in...\")\n    const stored = getFromLocalStorage(storageKey)\n\n    if (signInEmail === \"test\") {\n      this.setState({isLoading: false})\n    }\n\n    // if there's already a token in local storage log then just login with that\n    // THIS MIGHT BE BUGGY\n    if (stored && stored.token) {\n      alert(\"token already present\")\n      var { token } = stored\n      return await this.tokenLogin(token)\n    }\n\n    this.setState({\n      isLoading: true,\n    });\n\n    // Post request to backend\n    var res = await fetch(signInURL, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        email: signInEmail,\n        password: signInPassword,\n        remember,\n      }),\n    })\n    var json = await res.json()\n    console.log('json', json);\n    if (json.success) {\n      // store the token in localstorage\n      // should overwrite any existing expired tokens\n      storeToken(remember, json.token);\n\n      this.setState({\n        isLoading: false,\n        signInPassword: '',\n        signInEmail: '',\n        token: json.token, // still keep the token in the state to get activity queries\n        signedIn: true,\n      });\n      this.clearSignIn()\n    } else {\n      console.log(json)\n      this.setState(prevState => ({\n        isLoading: false,\n        errorMsgs: new Set([...prevState.errorMsgs, ...json.messages])\n      }))\n    }\n  }\n\n  // takes in an object of error messages and returns html elements to display them\n  showError(msg, idx) {\n    const onClose = () => {\n      this.setState(prevState => ({\n        errorMsgs: new Set( [...prevState.errorMsgs].filter(errMsg => errMsg !== msg))\n      }))\n    }\n    return ( <ErrorAlert msg={msg} key={idx} onClose={onClose}/> )\n  }\n\n  // Shows all the errors due to bad signin or signup\n  displayErrors() {\n    var errorMsgs = [...this.state.errorMsgs]\n    return errorMsgs.map(this.showError)\n  }\n\n  //shows a signle success message\n  showSuccess(msg, idx) {\n    const onClose = () => {\n      this.setState(prevState => ({\n        successMsgs: new Set([...prevState.successMsgs].filter(successMsg => successMsg !== msg))\n      }))\n    }\n    return ( <Success msg={msg} key={idx} onClose={onClose} /> )\n  }\n\n  // shows success messages\n  showSuccesses() {\n    var successMsgs = [...this.state.successMsgs]\n    return successMsgs.map(this.showSuccess)\n  }\n\n  //switches from signup to signin on the card\n  switchToSignIn() {\n    this.setState({\n      renderSignIn: true\n    })\n  }\n\n  //switches from signin to signup on the card\n  switchToSignUp() {\n    this.setState({\n      renderSignIn: false\n    })\n  }\n\n  render() {\n    console.log(\"rendering login\")\n    const {\n      isLoading,\n    } = this.state;\n\n    if (isLoading) {\n      return (<div><p>Loading...</p></div>);\n    }\n\n    if (!getToken()) {\n      return (\n        <div className=\"body\">\n          <link rel=\"stylesheet\" href=\"https://fonts.googleapis.com/css?family=Open+Sans:600\"></link>\n\n          <div className=\"login-wrap\">\n            <div className=\"login-html\">\n              <div className=\"errors-container\">\n                {this.displayErrors()}\n              </div>\n              <div className=\"success-container\">\n                {this.showSuccesses()}\n              </div>\n              <LoadingScreen />\n              <FormCard\n                renderSignIn={this.state.renderSignIn}\n                onSignInClick={this.switchToSignIn}\n                onSignUpClick={this.switchToSignUp}\n\n                signUpValid={this.signUpValid}\n                signInValid={this.signInValid}\n\n                onSignIn={this.onSignIn}\n                onSignUp={this.onSignUp}\n              />\n            </div>\n          </div>\n        </div>\n      );\n    } else {\n      // token is in the state and user has logged in!\n      return (\n        <div>\n          <Redirect\n            to={{\n              pathname: \"/app\",\n              state: { token: this.state.token }\n            }}\n          />\n        </div>\n      );\n    }\n  }\n}\n\nexport default Login;\n","import React, { Component } from 'react';\nimport LoadingScreen from \"../generic/LoadingScreen\"\nimport queryString from \"query-string\"\nimport {\n  withRouter\n} from \"react-router-dom\";\nimport {\n  getFromLocalStorage,\n  removeFromLocalStorage,\n  setInLocalStorage,\n  storageKey\n} from '../utils/storage';\nimport Error from \"../messages/Error\"\nimport \"./style.css\"\nimport ENDPOINTS from \"../endpoints\"\n\nclass Confirmation extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      errors: false,\n      isLoading: true\n    }\n    this.renderDisplay = this.renderDisplay.bind(this)\n  }\n\n  componentDidMount() {\n    // get the token parameter in the URI\n    var queryValues = queryString.parse(this.props.location.search)\n    var emailToken = queryValues.token\n    console.log(queryValues)\n\n    const confirmUrl = `${ENDPOINTS.confirm}?token=${emailToken}`\n    // send request to server to verify confirmation, and add registration to database\n    fetch(confirmUrl, {\n      method: \"GET\"\n    })\n      .then(res => res.json())\n      .then((json) => {\n        console.log(json)\n        if (json.success) {\n          this.setState({\n            isLoading: false,\n          })\n        } else {\n          // set error message in local storage\n          setInLocalStorage(storageKey + \"_confirmationErr\", json.messages)\n          this.setState({\n            errors: true,\n            isLoading: false,\n          })\n        }\n      })\n    .catch((err) => {\n      if (err) throw err\n    })\n  }\n\n  // takes in an object of error messages and returns html elements to display them\n  showError(msg, idx) {\n    return (\n      <Error msg={msg} key={idx} onClose={() => {}}/>\n    )\n  }\n\n  displayErrors() {\n    var confirmationErrors = getFromLocalStorage(storageKey + \"_confirmationErr\")\n    removeFromLocalStorage(storageKey + \"_confirmationErr\")\n    // thoroughly check if it is empty object or not\n    console.log(\"confirmation error should display...\")\n    if (confirmationErrors !== null) {\n      var msgArray = Object.values(confirmationErrors)\n      return msgArray.map(this.showError)\n    }\n  }\n\n  renderDisplay() {\n    if (this.state.isLoading) {\n      return (\n        <div>\n          <LoadingScreen />\n        </div>\n      )\n    } else if (!this.state.errors) {\n      // no errors\n      return (\n        // MESSAGE SAYING YOU'RE GOOD TO GO TO LOGIN,\n        // PROBABLY A NAVLINK OR SOMETHING TO LOGIN PAGE\n        <React.Fragment>\n          <h5 className=\"card-header conf-header\">You're All Set!</h5>\n          <div className='card-body text-center'>\n            <p>\n              Your registration was successful! Click below to return to the login page.\n            </p>\n            <div\n              className=\"navLink\"\n              onClick={() => {this.props.history.push(\"/\")}}\n            >\n              Back to login\n            </div>\n            {/* <NavLink activeClassName=\"navLink\" to=\"/\">Back to login</NavLink> */}\n          </div>\n        </React.Fragment>\n      )\n    } else {\n      return (\n        <React.Fragment>\n          <h5 className=\"card-header conf-header-error\">Oh No :(</h5>\n          <div className=\"card-body text-center errors-container\">\n            {this.displayErrors()}\n          </div>\n        </React.Fragment>\n      )\n    }\n  }\n\n  render() {\n    return (\n      <div className='conf-page'>\n        <div className='card m-5'>\n          {this.renderDisplay()}              \n        </div>\n      </div>\n    )\n  }\n}\n\nexport default withRouter(Confirmation)\n","import React, { Component } from 'react';\nimport queryString from \"query-string\"\nimport {\n  getFromLocalStorage,\n  setInStorage,\n} from '../utils/storage';\n\nimport { makeID } from \"../utils/keyGenerator\"\nimport ENDPOINTS from \"../endpoints\"\nconst confirmPwRestUrl = ENDPOINTS.passwordReset\nconst verifyUrl = ENDPOINTS.emailVerify\n\nconst storageKey = makeID(8)\n\nclass PwResetPage extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      validToken: true,\n      newPwText: '',\n      newPwTextConf: '',\n    }\n\n    this.onNewPassChange = this.onNewPassChange.bind(this)\n    this.onNewPassConfChange = this.onNewPassConfChange.bind(this)\n    this.onSubmit = this.onSubmit.bind(this)\n  }\n\n  // verify that the token in the url is valid\n  componentDidMount() {\n    // get the token parameter in the URI\n    var queryValues = queryString.parse(this.props.location.search)\n    var emailToken = queryValues.token\n    var headers = new Headers()\n    headers.append(\"authorization\", `Bearer ${emailToken}`)\n\n    fetch(verifyUrl, {\n      method: \"GET\",\n      headers,\n    })\n      .then(body => body.json())\n      .then((json) => {\n        // the token from the link is invalid\n        if (!json.success) {\n          // var errorMsg = \"Either the link has expired (12 hours) or something went wrong with the server. Please try again.\"\n          alert(\"verification from the mail link went wrong\")\n          // SHOW THAT THERE WAS AN ERROR AND EXPLAIN WHY IN HTML\n        } else {\n          setInStorage(storageKey + \"_email\", json.token)\n        }\n      })\n    .catch((err) => {throw err})\n  }\n\n  onNewPassChange(e) {\n    this.setState({\n      newPwText: e.target.value\n    })\n  }\n\n  onNewPassConfChange(e) {\n    this.setState({\n      newPwTextConf: e.target.value\n    })\n  }\n\n  onSubmit() {\n    console.log(\"submitted!\")\n    var { newPwText, newPwTextConf } = this.state\n    if (newPwText !== newPwTextConf) {\n      return alert(\"passwords must match!\")\n    }\n\n    var reqBody = {\n      newPassword: newPwText,\n      email: getFromLocalStorage(storageKey + \"_email\").email\n    }\n    console.log(reqBody)\n    // update the password\n    fetch(confirmPwRestUrl, {\n      method: \"POST\",\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(reqBody)\n    })\n      .then(body => body.json())\n      .then((json) => {\n        if (json.success) {\n          alert(\"success\")\n          // display message saying password successfully reset\n        } else {\n          alert(\"something went wrong: \", json)\n          // something went wrong\n        }\n      })\n    .catch((err) => {throw err})\n  }\n\n  render() {\n    return (\n      <div>\n      <form onSubmit={this.onSubmit}>\n        <div className=\"group\">\n          <label htmlFor=\"new-pass\">enter new password</label>\n          <input\n            id=\"new-pass\"\n            type=\"password\"\n            className=\"input\"\n            data-type=\"password\"\n            pattern=\"(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{8,}\"\n            title=\"Must contain at least one number and one uppercase and lowercase letter, and at least 8 or more characters\"\n            onChange={this.onNewPassChange}\n          />\n        </div>\n        <div className=\"group\">\n          <label htmlFor=\"new-pass-reap\">confirm enter new password</label>\n          <input\n            id=\"new-pass-reap\"\n            type=\"password\"\n            className=\"input\"\n            data-type=\"password\"\n            pattern=\"(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{8,}\"\n            title=\"Must contain at least one number and one uppercase and lowercase letter, and at least 8 or more characters\"\n            onChange={this.onNewPassConfChange}\n          />\n        </div>\n        <div className=\"group\">\n          <input type=\"submit\" className=\"button\" value=\"Submit\" id=\"submitNewPassButton\" />\n        </div>\n      </form>\n      </div>\n    )\n  }\n}\n\nexport default PwResetPage\n","import React from 'react'\nconst SpaContext = React.createContext()\nexport default SpaContext","import React, { Component } from 'react';\nimport \"./style/css/Searchbar.css\"\n\n\nclass Searchbar extends Component {\n\n  render() {\n    return (\n      <div className=\"search-box\" onMouseLeave={this.props.mouseLeave}>\n        <form onSubmit={this.props.search}>\n          <input\n            type=\"text\"\n            name=\"\"\n            className=\"search-txt\"\n            placeholder=\"Type to search\"\n            onChange={this.props.onSearchTextChange}\n            value={this.props.searchText}\n          />\n          <div className='search-btn'>\n            <i className=\"fas fa-search\"></i>\n            <input\n              className=\"search-btn-input\"\n              type='submit'\n              value=''\n            />\n          </div>\n        </form>\n      </div>\n    )\n  }\n}\n\nexport default Searchbar\n","import ENDPOINTS from \"../endpoints\"\n\nconst getBestsURL = ENDPOINTS.getBests\nconst getProfileURL = ENDPOINTS.getProfilePic\nconst getUsernameURL = ENDPOINTS.getUsername\n\n/**\n * gets the bests of a user given their id\n */\nexport async function getBests(id) {\n  var reqBody = { id }\n  var res = await fetch(getBestsURL, {\n    method: \"POST\",\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(reqBody)\n  })\n  var bestsJson = await res.json()\n  if (bestsJson.success) {\n    return bestsJson.bests\n  }\n  alert(\"could not get bests for id: \", id)\n}\n\n/**\n * gets the profile pic url of the user \n * given their user id in Mongo\n */\nexport async function getProfile(id) {\n  var reqBody = { id }\n  var res = await fetch(getProfileURL, {\n    method: \"POST\",\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(reqBody)\n  })\n  var profileJson = await res.json()\n  if (profileJson.success) {\n    return profileJson.profilePicture.profileURL\n  }\n  alert(\"could not get profile url for id: \", id)\n}\n\nexport async function getUsername(id) {\n  var reqBody = { id }\n  var res = await fetch(getUsernameURL, {\n    method: \"POST\",\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(reqBody)\n  })\n  var usernameJson = await res.json()\n  if (usernameJson.success) {\n    return usernameJson.username\n  }\n  alert(\"could not get profile url for id: \", id)\n}\n\n// module.exports = {\n//   getBests, \n//   getProfile, \n//   getUsername,\n// }","import React from 'react'\n\n// FUNCTIONAL COMPONENT FOR DISPLAY FRIENDS AND FRIEND REQUESTS\n// IN A LIST FORMAT FOR THE COMMUNITY COMPONENT\nexport default function FriendDisplay(props) {\n\n  function renderRelationship() {\n    if (props.isFriend) {\n      return (\n        <div className='rank'>\n          {`Rank: ${props.rank}`}\n        </div>\n      )\n    } else if (props.isFriendRequest) {\n      return (\n        <div\n          className='accept-request-btn'\n          onClick={props.onAcceptRequest}\n        >\n          Accept\n        </div>\n      )\n    } else {\n      return (\n        <div className='send-req-btn'>\n          Request Sent/Add Friend\n        </div>\n      )\n    }\n  }\n\n  function showStats() {\n    // make request to get their settings and only display if they allow it\n    return (\n      <React.Fragment>\n        <div className='stat'>\n          tot steps\n        </div>\n        <div className='stat'>\n          tot laps\n        </div>\n        <div className='stat'>\n          highest jump\n        </div>\n      </React.Fragment>\n    )\n  }\n\n  return (\n    // total display should be flex with row direction\n    <li\n      className=\"list-group-item friend-display\"\n    >\n      <div className='img-container'>\n        <img\n          src={(props.profileUrl ? props.profileUrl : props.defaultProfile)}\n          alt={props.imgAlt}\n          onClick={props.onClick}\n        />\n      </div>\n      {/* display should be flex with col direction */}\n      <div className='user-info'>\n        <div className='top-row ml-3'>\n          <div className='name-container'>\n            <strong className='name' onClick={props.onClick}>{props.firstName} {props.lastName}</strong>\n          </div>\n          {/* put an icon to the left. This shows the rank, accept req button, or send req button*/}\n          {renderRelationship()}\n        </div>\n        {/* display this depending on their settings */}\n        <div className='bot-row ml-3'>\n          {showStats()}\n        </div>\n      </div>\n    </li>\n  )\n}","import React, { Component } from 'react';\n// const friendReqURL = \"https://us-central1-.cloudfunctions.net/athlos-server/getFriendReqs\"\nimport {\n  getBests,\n  getProfile,\n  getUsername\n} from \"../../utils/userInfo\"\nimport FriendDisplay from \"./FriendDisplay\"\nimport { withRouter } from 'react-router-dom'\nconst defaultProfile = 'default'\nconst imgAlt = 'alt'\n\nclass FriendRequests extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      friendRequestListItems: []\n    }\n    this.createFriendRequests = this.createFriendRequests.bind(this)\n  }\n\n  async componentDidMount() {\n    await this.createFriendRequests()\n  }\n\n  async createFriendRequests() {\n    // onClick function definition\n    var { friendRequests, addFriendToState, removeFriendReq, acceptRequest } = this.props\n    var liTags = []\n    const onClick = () => {\n      this.props.history.push(`/app/profile/${username}`)\n    }\n    const onAcceptRequest = () => {\n      acceptRequest(id, firstName, lastName);\n      removeFriendReq(id);\n      addFriendToState(id, firstName, lastName);\n    }\n    for (let i = 0; i < friendRequests.length; i++) {\n      var { id, firstName, lastName } = friendRequests[i]\n      var [username, bests, profileUrl] = await Promise.all([getUsername(id), getBests(id), getProfile(id)])\n      liTags.push(\n        <FriendDisplay \n          key={id}\n          isFriend={false}\n          isFriendRequest={true}\n          onClick={onClick}\n          onAcceptRequest={onAcceptRequest}\n          profileUrl={profileUrl}\n          defaultProfile={defaultProfile}\n          imgAlt={imgAlt}\n          firstName={firstName}\n          lastName={lastName}\n          bests={bests}\n        />\n      )\n    }\n    this.setState({ friendRequestListItems: liTags })\n  }\n\n  render() {\n    return (\n      <div className=\"friend-requests\" style={protoStyle}>\n        <h4>requests... {this.props.numRequests}</h4>\n        <ul className=\"friend-requests-list\">\n          {this.state.friendRequestListItems}\n        </ul>\n      </div>\n    )\n  }\n}\n\nconst protoStyle = {\n  \"marginTop\": \"100px\"\n}\n\nexport default withRouter(FriendRequests)\n","import React, { Component } from 'react'\nimport {\n  withRouter\n} from \"react-router-dom\";\n\nclass CommunityHeader extends Component {\n  render() {\n    console.log(this.props)\n    return (\n      <div className=\"community-header\">\n        <nav className=\"navbar navbar-expand sticky bg-light\">\n          <ul className=\"navbar-nav\">\n            <li className=\"nav-item\">\n              <span \n                className='nav-link mr-3' \n                onClick={() => {this.props.setDisplay('friends')}}\n              >\n                Friends\n              </span>\n            </li>\n            <li className=\"nav-item mr-3\">\n              <span\n                className='nav-link'\n                onClick={() => {this.props.setDisplay('requests')}}\n              >\n                Requests\n              </span>\n            </li>\n            <li className=\"nav-item\">\n              <span\n                className='nav-link'\n                onClick={() => {this.props.setDisplay('search')}}\n              >\n                Search\n              </span>\n            </li>\n          </ul>\n        </nav>\n      </div>\n    )\n  }\n}\n\nexport default withRouter(CommunityHeader)\n","import React, { Component } from 'react'\nimport SpaContext from '../../Context';\n\nclass Friends extends Component {\n  render() {\n    var { friendTableRows } = this.context\n    return (\n      <div>\n        <ul className=\"list-group list-group-flush\">\n          {friendTableRows}\n        </ul>\n      </div>\n    )\n  }\n}\n\nFriends.contextType = SpaContext\n\nexport default Friends\n","import {\n  getToken,\n} from '../utils/storage';\nimport {\n  NavLink,\n} from \"react-router-dom\";\n\nimport React, { Component } from 'react'\nimport Searchbar from \"./Searchbar\"\nimport FriendRequests from \"./friends/FriendRequests\"\nimport CommunityHeader from \"./header/CommunityHeader\"\nimport Friends from \"./friends/Friends\"\n\nimport SpaContext from '../Context'\nimport \"./style/css/Community.css\"\nimport ENDPOINTS from \"../endpoints\"\nconst searchURL = ENDPOINTS.searchUser\nconst friendReqURL = ENDPOINTS.sendFriendReq\n// const getUserInfoURL = \"https://us-central1-athlos-live.cloudfunctions.net/athlos-server/getUserInfo\"\nconst tokenToID = ENDPOINTS.tokenToID\nconst acceptFriendURL = ENDPOINTS.acceptFriendReq\nconst imgAlt = \"default\"\nclass Community extends Component {\n  // used to keep track of mounting lifecycle\n  // sometimes components in the router get\n  // mounted, the unmounted right away, still dont know why\n  _isMounted = false\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      display: 'friends',\n      searches: [],\n      searchText: \"\",\n      showQueries: false,\n      emptySearch: false,\n      numFriendsDisplay: 25,\n    }\n    this.renderSearch = this.renderSearch.bind(this)\n    this.search = this.search.bind(this)\n    this.onSearchTextChange = this.onSearchTextChange.bind(this)\n    this.mouseLeave = this.mouseLeave.bind(this)\n    this.sendReq = this.sendReq.bind(this)\n    this.addFriendToState = this.addFriendToState.bind(this)\n    this.removeFriendReq = this.removeFriendReq.bind(this)\n    this.acceptRequest = this.acceptRequest.bind(this)\n    this.clearSearch = this.clearSearch.bind(this)\n    this.setDisplay = this.setDisplay.bind(this)\n    this.renderDisplay = this.renderDisplay.bind(this)\n  }\n\n  componentWillUnmount() {\n    this._isMounted = false\n    console.log('community has unmounted')\n  }\n\n  componentDidMount() {\n    console.log(\"community has mounted\")\n    this._isMounted = true\n  }\n\n  setDisplay(newDisplay) {\n    this.setState({ display: newDisplay })\n  }\n\n  removeFriendReq(id) {\n    console.log(\"removing friend with id: \", id)\n    var { friendRequests } = this.context\n    // remove friend object from requests with id\n    var removed = friendRequests.filter((friend) => {\n      return friend.senderID !== id\n    })\n    console.log(\"removed\", removed)\n    this.setState({\n      friendRequests: removed,\n    })\n  }\n\n  addFriendToState(id, firstName, lastName) {\n    var { friends } = this.context\n    var friendObject = { id, firstName, lastName }\n    this.setState({\n      friends: [...friends, friendObject]\n    })\n  }\n\n  onSearchTextChange(e) {\n    this.setState({\n      searchText: e.target.value\n    })\n  }\n\n  async search(e) {\n    e.preventDefault()\n    var { searchText } = this.state\n    var userToken = getToken()\n\n    var reqBody = {\n      searchText,\n      userToken,\n    }\n\n    if (this.state.searchText) {\n      var res = await fetch(searchURL, {\n        method: \"POST\",\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(reqBody),\n      })\n      var json = await res.json()\n      if (!json.success) {\n        // DISPLAY SOME SORT OF ERROR\n        alert(json.message)\n      }\n      var { users } = json\n      if (users === undefined || users.length === 0) {\n        this.setState({\n          emptySearch: true,\n        })\n      } else {\n        console.log(users)\n        this.setState({\n          searches: users,\n          showQueries: true,\n          emptySearch: false\n        })\n      }\n    }\n  }\n\n  mouseLeave() {\n    this.setState({\n      searchText: \"\"\n    })\n  }\n\n  async decodeToken() {\n    // send request to server to decode stored token into the user id\n    var userToken = getToken()\n    var headers = new Headers()\n    headers.append(\"authorization\", `Bearer ${userToken}`)\n    var res = await fetch(tokenToID, {method: \"GET\", headers})\n    var json = await res.json()\n    var { userID } = json\n    return userID\n  }\n\n  async sendReq(_id, receiverFirstName, receiverLastName, receiverUsername) {\n    // emit event using web socket to server\n    var { socket } = this.context\n    var { firstName, lastName, username } = this.context\n\n    // get decoded userID\n    var userID = await this.decodeToken()\n    var userToken = getToken()\n    console.log(\"sending request\", userID)\n    socket.emit(\"sendFriendRequest\", {\n      senderID: userID,\n      senderFirstName: firstName,\n      senderLastName: lastName,\n      senderUsername: username,\n      receiverID: _id,\n    })\n\n    var body = JSON.stringify({\n      token: userToken,\n      senderFirstName: firstName,\n      senderLastName: lastName,\n      senderUsername: username,\n      receiverID: _id,\n      receiverFirstName,\n      receiverLastName,\n      receiverUsername,\n    })\n\n    fetch(friendReqURL, {\n      method: \"POST\",\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body,\n    })\n      .then(res => res.json())\n      .then((json) => {\n        console.log(JSON.stringify(json))\n      })\n    .catch((err) => {throw err})\n  }\n\n  async acceptRequest(senderID, senderFirstName, senderLastName) {\n    // SENDER refers to the FRIEND REQUEST SENDER\n    var userToken = getToken()\n    var { firstName, lastName } = this.context\n    // send notification to server\n    var { socket } = this.context\n    var userID = this.decodeToken()\n    socket.emit(\"acceptFriendRequest\", { userID, receiverFirstName: firstName, receiverLastName: lastName, otherFriendID: senderID })\n\n    var reqBody = {\n      userToken,\n      receiverFirstName: firstName,\n      receiverLastName: lastName,\n      senderID,\n      senderFirstName,\n      senderLastName,\n    }\n\n    var res = await fetch(acceptFriendURL, {\n      method: \"POST\",\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(reqBody)\n    })\n    var json = await res.json()\n    console.log(\"json message: \", json.message)\n  }\n\n  clearSearch() {\n    // set search state data to inital state\n    this.setState({\n      searchText: \"\",\n      searches: [],\n      showQueries: false,\n      emptySearch: false,\n    })\n  }\n\n  renderSearch() {\n    var liTags = []\n    var { searches, emptySearch } = this.state\n    var { friends, friendRequests, friendsPending, rootURL } = this.context\n\n    // put the user ids into a set for easy lookup\n    // apparently these constructors don't work on IE 11\n    var friendSet = new Set(friends.map(user => user.id))\n    var requestSet = new Set(friendRequests.map(user => user.id))\n    var pendingSet = new Set(friendsPending.map(user => user.id))\n\n    // if user just searched name not in database\n    if (emptySearch) {\n      liTags.push(\n        <div className=\"empty-search-container\" key=\"empty-key\">\n          <span>No search results :( try being more specific</span>\n        </div>\n      )\n    }\n\n    var displayButton = (user, friendSet, requestSet, pendingSet) => {\n      // console.log(user, friendSet, requestSet, pendingSet)\n      var { firstName, lastName, _id, username} = user\n      if (friendSet.has(_id)) {\n        return (\n          <React.Fragment>\n            <i className=\"fas fa-check ml-1 mr-1\"></i>\n            <span className='mr-1'>Friends</span>\n          </React.Fragment>\n        )\n      } else if (requestSet.has(_id)) {\n        return (\n          <div\n            className='rel-wrapper'              \n            onClick={() => {\n              this.acceptRequest(_id, firstName, lastName)\n              this.removeFriendReq(_id)\n              this.addFriendToState(_id, firstName, lastName)\n            }}\n          >\n            <i className=\"fas fa-user-plu req-sent ml-1 mr-1\"></i>\n            <span className='accept-req-btn'>\n              accept\n            </span>\n          </div>\n        )\n      } else if (pendingSet.has(_id)) {\n        return (\n          <React.Fragment>\n            <i className=\"fas fa-user-plu req-sent ml-1 mr-1\"></i>\n            <span className=''>Request Sent</span>\n          </React.Fragment>\n        )\n      } else {\n        return (\n            <div\n              className='rel-wrapper'\n              onClick={() => {this.sendReq(_id, firstName, lastName, username)}}\n            >\n              <i className=\"fas fa-user-plu req-sent ml-1 mr-1\"></i>\n              <span className='add-friend-btn ml-1'>Add</span> \n            </div>\n        )\n      }\n    }\n\n    searches.forEach((user, i) => {\n      var { firstName, lastName, _id, username, profilePicture } = user\n      // capitalize first and last name before displaying\n      firstName = firstName.charAt(0).toUpperCase() + firstName.slice(1)\n      lastName  = lastName.charAt(0).toUpperCase() + lastName.slice(1)\n      liTags.push(\n        <div key={_id + \"_search\"} className=\"user-container\">\n          <img\n            src={profilePicture.profileURL}\n            alt={imgAlt}\n          ></img>\n          <NavLink\n            to={{pathname: `${rootURL}/profile/${username}`}}\n            className='search-name ml-3'\n          >\n            {firstName}, {lastName}\n          </NavLink>\n          <div className='search-relationship'>\n            {displayButton(user, friendSet, requestSet, pendingSet)}\n          </div>\n        </div>\n      )\n    })\n\n    liTags.push(\n      <div className=\"clear-search-container mt-3\" key=\"clear-search-container\">\n        <span onClick={this.clearSearch}>Clear Search</span>\n      </div>\n    )\n    return liTags\n  }\n\n  renderDisplay() {\n    var { display } = this.state\n    var { context } = this\n    display = display.toLowerCase()\n    if (display === 'friends') {\n      return <Friends />\n    } else if (display === 'requests') {\n      return (\n        <FriendRequests\n          userToken={getToken()}\n          userFirstName={context.userFirstName}\n          userLastName={context.userLastName}\n          addFriendToState={this.addFriendToState}\n          removeFriendReq={this.removeFriendReq}\n          friendRequests={context.friendRequests}\n          friendsPending={context.friendsPending}\n          friends={context.friends}\n          numRequests={context.numRequests}\n          acceptRequest={this.acceptRequest}\n        />\n      )     \n    } else if (display === 'search') {\n      return (\n        <div className='search-wrapper'>\n          <h4>Search for users</h4>\n          <Searchbar\n            search={this.search}\n            onSearchTextChange={this.onSearchTextChange}\n            mouseLeave={this.mouseLeave}\n            searchText={this.state.searchText}\n          />\n          <div className={\"queries\" + (this.state.showQueries ? \" expand\" : \" collapsed\")}>\n            {this.renderSearch()}\n          </div>\n        </div>\n      )\n    } else {\n      console.log('display is not friends, requests, or search')\n      return null\n    }\n  }\n\n  render() {\n    return (\n      //<Header />\n      <div className=\"community-container\">\n        <CommunityHeader \n          setDisplay={this.setDisplay}\n        />\n        {this.renderDisplay()}\n      </div>\n    )\n  }\n}\n\nCommunity.contextType = SpaContext\n\nexport default Community\n","import React, {Component} from 'react'\nimport SpaContext from \"../../Context\"\n\nclass ImageSlide extends Component {\n  constructor(props) {\n    super(props)\n    this.getLabels = this.getLabels.bind(this)\n    this.renderNum = this.renderNum.bind(this)\n    // this.renderSecondary = this.renderSecondary.bind(this)\n  }\n\n  getLabels(action) {\n    var { unitSystem } = this.context.settings\n    if (action === \"run\") {\n      return {\n        numLabel: \"steps\",\n        secondaryLabel: (unitSystem === \"metric\") ? \"km\" : \"miles\"\n      }\n    } else if (action === \"swim\") {\n      // CHANGE THIS BASED ON SWIMMING PART OF SETTINGS\n      return {\n        numLabel: \"laps\",\n        secondaryLabel: (unitSystem === \"metric\") ? \"m\" : \"yds\"\n      }\n    } else {\n      return {\n        numLabel: \"jumps\",\n        secondaryLabel: (unitSystem === \"metric\") ? \"cm\" : \"in\"\n      }\n    }\n  }\n\n  renderNum(stats, indexDisplay) {\n    var { activityData } = stats\n    var labels = this.getLabels(stats.action)\n    var num = activityData.length === 0 ? 0 : activityData[indexDisplay].num\n    return ( <span> {`${num} ${labels.numLabel}`} </span> )\n  }\n\n  render() {\n    var { stats, indexDisplay, renderSecondary } = this.props\n    return (\n      <div className={`imageSlide ${stats.action}`}> \n        <img src={stats.imageUrl} alt=\"loading...\"/>\n        {this.renderNum(stats, indexDisplay)}\n        {renderSecondary()}\n      </div>\n    )\n  }\n}\nImageSlide.contextType = SpaContext\nexport default ImageSlide\n","import React from 'react'\n\nconst Arrow = ({ direction, clickFunction, glyph, activity }) => (\n  <div\n    className={ `slide-arrow ${direction} ${activity}` }\n    onClick={ clickFunction }\n  >\n    { glyph }\n  </div>\n);\nexport default Arrow\n","// these functions convert to the system that you pass in\n// most of these are for the edit profile form fields\nconst kgToLbs = (2.20462 / 1.0)\nconst lbsToKg = (1.0 / 2.20462)\nconst inToCm = (2.54 / 1.0)\nconst cmToIn = (1.0 / 2.54)\nconst ftToCm = (30.48 / 1.0)\n\n// system is the system you wanna display in\n// returns 'num kg' or 'num lbs'\nfunction weightConvert(system, weight) {\n  if (!system) return \"\"\n  var parsed = weight.split(\" \") // [num units]\n  var units = parsed[1]\n  weight = parsed[0]\n  system = system.toLowerCase()\n  var convertedWeight = weight\n  if (system === \"english\" && units === \"kg\") {\n    //convert kg to lbs, 1kg = 2.20462 lbs\n    convertedWeight = Math.round(parseInt(weight) * kgToLbs)\n    units = \"lbs\"\n  } else if (system === \"metric\" && units === \"lbs\") {\n    // convert lbs to kg\n    convertedWeight = Math.round(parseInt(weight) * lbsToKg)\n    units = \"kg\"\n  }\n  return convertedWeight.toString() + \" \" + units\n}\n\n// system is the system you wanna display in\n// returns 'num ft num in' or 'num cm'\nfunction heightConvert(system, height) {\n  if (!system) return \"\"\n  var parsed = height.split(\" \") // either [num, ft, num, in] or [num, cm]\n  system = system.toLowerCase()\n  var convertedHeight = height\n  if (system === \"english\" && parsed[1] === \"cm\") {\n    //convert cm to in, then in to ft and in\n    var heightInCm = parsed[0]\n    convertedHeight = `${parseInt(heightInCm) * cmToIn} in`\n  } else if (system === \"metric\" && parsed[1] === \"ft\") {\n    // convert ft, in to cm\n    let feet = parseInt(parsed[0])\n    let inches = parseInt(parsed[2])\n    convertedHeight = `${Math.round((feet * ftToCm) + (inches * inToCm)).toString()} cm`\n  }\n  return convertedHeight.toString()\n}\n\n// takes height in inches and returns 'num ft num in'\nfunction englishHeight(height) {\n  var feet = Math.floor(height / 12)\n  var inches = Math.round(height - (12 * feet))\n  return `${feet} ft ${inches} in`\n}\n\n// FOR RAW DOUBLES\n// the system that the height passed in is in\nfunction rawHeightConvert(system, verticalHeight) {\n  // want it in metric system\n  var converted = (system === \"metric\") ? verticalHeight * inToCm : verticalHeight * cmToIn\n  return parseFloat(converted).toFixed(2)\n}\n\nfunction parseDate(date) {\n  // parses the UTC date object\n  var dateString = date.toString()\n  // [Day, Month, month date, year, time, Standard, Standard (written out)]\n  var parsed = dateString.split(\" \")\n  return parsed\n}\n\nexport { weightConvert, heightConvert, englishHeight, parseDate, rawHeightConvert }\n","import ImageSlide from \"./ImageSlide\"\nimport \"./Carousel.css\"\nimport Arrow from \"./Arrow\"\nimport React from 'react'\nimport { parseDate } from \"../../utils/unitConverter\"\n// const jumpActivity = \"jump\"\n// const runActivity = \"run\"\n// const swimActivity = \"swim\"\n\nclass Carousel extends React.Component {\n  getDropdownDates(stats) {\n    var { dropdownItemClick } = this.props\n    var dropdownItems = []\n    stats.activityData.forEach((session, idx) => {\n      var parsed = parseDate(new Date(session.uploadDate))\n      var dayMonth = parsed[0] + \", \" + parsed[1] + \" \" + parsed[2]\n      dropdownItems.push(\n        <span\n          className=\"dropdown-item\"\n          key={\"dropdown_\" + idx}\n          id={idx}\n          onClick={dropdownItemClick}\n        >\n          {dayMonth}\n        </span>\n      )\n    })\n    return dropdownItems\n  }\n\n  render() {\n    var { stats, previousSlide, nextSlide, activityIndex, displayDate, renderSecondary } = this.props\n    return (\n      <div className=\"carousel\">\n        <div className=\"btn-group dropdown\">\n          <button\n            className=\"btn btn-secondary btn-sm mt-3 dropdown-toggle\"\n            type=\"button\"\n            data-toggle=\"dropdown\"\n            aria-haspopup=\"true\"\n            aria-expanded=\"false\"\n          >\n            {displayDate()}\n          </button>\n          <div className=\"dropdown-menu activities-dropdown\">\n            {this.getDropdownDates(stats)}\n          </div>\n        </div>\n\n        <div className=\"slideShow\">\n          <Arrow\n            direction=\"left\"\n            clickFunction={ previousSlide }\n            glyph=\"&#8249;\"\n            activity={stats.action}\n          />\n\n          <ImageSlide\n            stats={stats}\n            indexDisplay={activityIndex}\n            renderSecondary={renderSecondary}\n          />\n\n          <Arrow\n            direction=\"right\"\n            clickFunction={ nextSlide }\n            glyph=\"&#8250;\"\n            activity={stats.action}\n          />\n        </div>\n      </div>\n    )\n  }\n}\nexport default Carousel\n","import React from 'react'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\n\nexport default function Calories( props ) {\n  return (\n    <div className=\"calories-circle\">\n      <FontAwesomeIcon icon=\"fire-alt\"/>\n      <span>{props.cals}</span>\n    </div>\n  )\n}\n","import React from 'react'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\n\nexport default function Duration( props ) {\n  return (\n    <div className=\"duration-circle\">\n      <FontAwesomeIcon icon=\"clock\"/>\n      <span>{props.duration / 10}</span>\n    </div>\n  )\n}\n","import React, { Component } from 'react'\nimport { Chart, Bar } from 'react-chartjs-2';\n// import Hammer from \"hammerjs\";\nimport zoom from 'chartjs-plugin-zoom'\nclass Past extends Component {\n  componentWillMount(){\n    Chart.pluginService.register(zoom)\n  }\n\n  render() {\n    var { labels, data, hoverLabel, yAxisMin, yAxisMax, chartTitle } = this.props\n    return (\n      <div>\n        <Bar\n          data={{\n            labels: labels,\n            datasets: [{\n                label: hoverLabel,\n                data: data,\n                backgroundColor: 'rgba(255, 99, 132, 0.2)',\n                borderColor: 'rgba(255, 99, 132, 1)',\n                borderWidth: 1\n            }]\n          }}\n          options={{\n            maintainAspectRatio: true,\n            plugins: {\n              zoom: false,\n              // zoom: {\n              //   zoom: {\n              //     enable: false,\n              //   },\n              //   pan: {\n              //     // Boolean to enable panning\n              //     enabled: true,\n\n              //     // Panning directions. Remove the appropriate direction to disable\n              //     // Eg. 'y' would only allow panning in the y direction\n              //     // A function that is called as the user is panning and returns the\n              //     // available directions can also be used:\n              //     //   mode: function({ chart }) {\n              //     //     return 'xy';\n              //     //   },\n              //     mode: 'x',\n\n              //     // Function called while the user is panning\n              //     onPan: function({chart}) { console.log(`I'm panning!!!`); },\n              //     // Function called once panning is completed\n              //     onPanComplete: function({chart}) { console.log(`I was panned!!!`); }\n              //   }\n              // }\n            },\n            title: {\n              text: chartTitle,\n              display: true,\n              fontSize: 16\n            },\n            legend: {\n              display: false,\n              position: 'right'\n            },\n            scales: {\n              yAxes: [{\n                ticks: {\n                  min: yAxisMin,\n                  max: yAxisMax\n                }\n              }]\n            },\n            responsive: true\n          }}\n        />\n      </div>\n    )\n  }\n}\n\nexport default Past\n","import React from 'react'\nimport Doughnut from \"react-chartjs-2\"\nexport default function RunDoughnut( props ) {\n  return (\n    <div>\n      <Doughnut\n        data={{\n          datasets: [{\n            data: props.data,\n            backgroundColor: props.colors\n          }],\n          labels: props.labels\n        }}\n        options={{\n          plugins: {\n            zoom: false,\n          },\n          legend: {\n            display: true,\n          },\n          responsive: true,\n          maintainAspectRatio: false,\n        }}\n      />\n    </div>\n  )\n}\n","import React, {Component} from 'react'\nimport SpaContext from \"../Context\"\nimport { parseDate } from \"../utils/unitConverter\"\n\n// HOC for run, swim, jump fitness pages.\n// reuses label and data getting for:\n// 1. past laps/jumps/steps (num)\n// 2. Carousel display\n// 3. Cals and duration circles\n// 4. details link button\n// 5. pace/jump/time (swim) progressions (swim still adds laps of each stroke done)\n// 6. average jumps/steps/laps (num)\n// 7. percentToGoal ? \n\nfunction reverse(array) {\n  var i = 0,\n      n = array.length,\n      middle = Math.floor(n / 2),\n      temp = null;\n\n  for (; i < middle; i += 1) {\n     temp = array[i];\n     array[i] = array[n - 1 - i];\n     array[n - 1 - i] = temp;\n  }\n}\n\nexport default function withFitnessPage( WrappedComponent ) {  \n  class WithFitnessPage extends Component {\n    constructor(props) {\n      super(props)\n    \n      this.state = {\n        activityIndex: 0,\n        pastGraphLabels: [],\n        pastGraphData: [],\n        progressionLabels: [],\n        progressionDate: [], \n      }\n      this.nextSlide = this.nextSlide.bind(this);\n      this.previousSlide = this.previousSlide.bind(this);\n      this.makePastGraphLabels = this.makePastGraphLabels.bind(this)\n      this.makePastGraphData = this.makePastGraphData.bind(this)\n      this.dropdownItemClick = this.dropdownItemClick.bind(this)\n      this.displayDate = this.displayDate.bind(this)\n      this.calcAvgNum = this.calcAvgNum.bind(this)\n      this.calcAvgCals = this.calcAvgCals.bind(this)\n    }\n\n    componentDidMount() {\n      console.log('mounted')\n      this.makePastGraphLabels()\n      this.makePastGraphData()\n    }\n\n    roundToNDecimals(num, decimals) {\n      return parseFloat(num).toFixed(decimals)\n    }\n\n    isNullOrUndefined(input) {\n      return (input == null)\n    }\n\n    // gets the labels for the graph that displays num field over past upload dates\n    makePastGraphLabels() {\n      var pastGraphLabels = []\n      // can be either run, jump or swimming json\n      var { activityJson } = this.props\n      activityJson.activityData.forEach((session, idx) => {\n        var { uploadDate } = session\n        var stringToDate = new Date(uploadDate)\n        // this is an array\n        var dateInfo = parseDate(stringToDate)\n        pastGraphLabels.push(dateInfo[0] + \", \" + dateInfo[1] + \" \" + dateInfo[2])\n      })\n      reverse(pastGraphLabels)\n      this.setState({ pastGraphLabels })\n    }\n\n    makePastGraphData() {\n      var pastGraphData = []\n      var { activityJson } = this.props\n      activityJson.activityData.forEach((session, idx) => {\n        var { num } = session\n        pastGraphData.push(num)\n      })\n      reverse(pastGraphData)\n      this.setState({ pastGraphData })\n      //debugger\n    }\n\n    // returns Day of week, month day (num) in a string format\n    // i.e Sat, Jul 20\n    displayDate() {\n      var { activityJson } = this.props\n      var { activityIndex } = this.state\n      if (activityJson.activityData.length === 0) {\n        return \"No uploads yet\"\n      }\n      var { uploadDate } = activityJson.activityData[activityIndex]\n      var parsed = parseDate(new Date(uploadDate))\n      var date = parsed[0] + \", \" + parsed[1] + \" \" + parsed[2]\n      return date\n    }\n\n    dropdownItemClick(e) {\n      // on dropdown date click, display that date on the dropdown,\n      // and switch the image slider to display that date\n      this.setState({ activityIndex: parseInt(e.target.id) })\n    }\n\n    calcAvgNum() {\n      // Activity json contains all the queried activity data\n      // NOTE THIS IS NOT THE TRUE AVG SINCE THE QUERY IS AT MAX\n      // (50) DOCUMENTS OF ACTIVITY DATA\n      var { activityData } = this.props.activityJson\n      var avg = 0\n      var count = 0\n      activityData.forEach((session, idx) => {\n        avg += session.num\n        count += 1\n      })\n      return (count === 0) ? 0 : Math.round(avg / count)\n    }\n\n    calcAvgCals() {\n      var { activityData } = this.props.activityJson\n      var avg = 0\n      var count = 0\n      activityData.forEach((session, idx) => {\n        avg += session.calories\n        count += 1\n      })\n      return (count === 0) ? 0 : Math.round(avg / count)\n    }\n\n    previousSlide() {\n      //debugger\n      var { activityData } = this.props.activityJson\n      var nextIndex = Math.min((this.state.activityIndex + 1), activityData.length - 1)\n      this.setState({ activityIndex: nextIndex })\n    }\n  \n    nextSlide() {\n      // 0 represents the most recent upload date\n      var nextIndex = Math.max((this.state.activityIndex - 1), 0)\n      this.setState({ activityIndex: nextIndex })\n    }\n\n    render() {\n      var { activityIndex, pastGraphData, pastGraphLabels } = this.state\n      return (\n        <div>\n          <WrappedComponent\n            pastGraphData={pastGraphData}\n            pastGraphLabels={pastGraphLabels}\n            activityIndex={activityIndex}\n            dropdownItemClick={this.dropdownItemClick}\n            displayDate={this.displayDate}\n            nextSlide={this.nextSlide}\n            previousSlide={this.previousSlide}\n            calcAvgNum={this.calcAvgNum}\n            calcAvgCals={this.calcAvgCals}\n            isNullOrUndefined={this.isNullOrUndefined}\n            roundToNDecimals={this.roundToNDecimals}\n            {...this.props}\n          />\n        </div>\n      )\n    }\n  }\n  WithFitnessPage.contextType = SpaContext\n  \n  return WithFitnessPage\n}\n\n","import React, { Component } from 'react'\nimport { Line } from 'react-chartjs-2';\n// import Hammer from \"hammerjs\";\n// import zoom from 'chartjs-plugin-zoom'\n\nexport default class LineProgression extends Component {\n  componentWillMount(){\n    // Chart.pluginService.register(zoom)\n  }\n\n  render() {\n    var { labels, data, hoverLabel, yAxisMin, yAxisMax, displayDate } = this.props\n    console.log(labels, data)\n    /**\n     * labels: for the x axis have time\n     * data: paces data array\n     * hoverLabel: \"Pace\"\n     * activity: \"Pace progression\"\n     * yaxisMin: 0\n     * yaxisMax: some ratio of steps / time based on user config\n     */\n    return (\n      <div>\n        <Line\n          data={{\n            labels: labels,\n            datasets: [{\n              label: hoverLabel,\n              data: data,\n              backgroundColor: 'rgba(255, 99, 132, 0.2)',\n              borderColor: 'rgba(255, 99, 132, 1)',\n              borderWidth: 1\n            }]\n          }}\n          options={{\n            maintainAspectRatio: true,\n            plugins: {\n              zoom: false,\n              // zoom: {\n              //   zoom: {\n              //     enabled: false,\n              //   },\n              //   pan: {\n              //     // Boolean to enable panning\n              //     enabled: true,\n\n              //     // Panning directions. Remove the appropriate direction to disable\n              //     // Eg. 'y' would only allow panning in the y direction\n              //     // A function that is called as the user is panning and returns the\n              //     // available directions can also be used:\n              //     //   mode: function({ chart }) {\n              //     //     return 'xy';\n              //     //   },\n              //     mode: 'x',\n\n              //     // Function called while the user is panning\n              //     onPan: function({chart}) { console.log(`I'm panning!!!`); },\n              //     // Function called once panning is completed\n              //     onPanComplete: function({chart}) { console.log(`I was panned!!!`); }\n              //   }\n              // }\n            },\n            title: {\n              text: `pace on ${displayDate()}`,\n              display: true,\n              fontSize: 16\n            },\n            legend: {\n              display: false,\n              position: 'right'\n            },\n            scales: {\n              yAxes: [{\n                ticks: {\n                  min: yAxisMin,\n                  max: yAxisMax\n                }\n              }]\n            },\n            responsive: true\n          }}\n        />\n      </div>\n    )\n  }\n}\n","import React, { Component } from 'react'\nimport Carousel from \"../carousel/Carousel\"\nimport Calories from \"../Calories\"\nimport Duration from \"../Duration\"\nimport SpaContext from '../../Context'\nimport Past from \"../charts/Past\"\nimport RunDoughnut from \"./RunDoughnut\"\nimport withFitnessPage from \"../withFitnessPage\"\nimport PaceLineProgression from \"../charts/PaceLineProgression\"\n\n// btw restPaceMin and walkPaceMax is walking\n// greater that walkPaceMax is running\nconst walkPaceMax = 2.314 // 130 steps per minute is a fast walk, which is 2.16 steps/sec, 2.314 (.2sec) / step\n// anything above restPaceMax is resting\nconst restPaceMin = 5 // say 60 steps per minute is basically resting. 1 step/sec, 5 (.2sec) / step\n\nclass Run extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      paceLabels: [],\n      paceDate: [], \n    }\n    this.estimateDistanceRun = this.estimateDistanceRun.bind(this)\n  }\n\n  componentDidMount() {\n    console.log('mounted')\n  }\n\n  makeDoughnutData() {\n    var runCount = 0\n    var walkCount = 0\n    var count = 0\n    var { activityData } = this.context.runJson\n    activityData.forEach((session, i) => {\n      session.paces.forEach((pace, j) => {\n        // if pace is somehow undefined or NaN or null then skip\n        if (!(!pace || isNaN(pace))) {\n          if (pace > walkPaceMax) {\n            runCount += 1\n          } else if (pace > restPaceMin && pace < walkPaceMax) {\n            walkCount += 1\n          }\n          count += 1\n        } else {\n          console.log(\"this pace entry is corrupted somehow...\")\n        }\n      })\n    })\n    if (count === 0) {\n      return [0, 0, 0]\n    }\n    var runPercent = runCount / count\n    var walkPercent = walkCount / count\n    return [runPercent, walkPercent, 1 - (runPercent + walkPercent)]\n  }\n\n  calcAvgPace() {\n    var { activityData } = this.context.runJson\n    var avg = 0\n    var count = 0\n    activityData.forEach((session, i) => {\n      session.paces.forEach((pace, j) => {\n        avg += pace\n        count += 1\n      })\n    })\n    return (count === 0) ? 0 : avg / count\n  }\n\n  estimateDistanceRun() {\n    var { settings } = this.context\n    var { unitSystem } = settings\n    // this means the person's height is in cm, display km\n    if (unitSystem === \"metric\") {\n\n    } else {\n      // person's height in inches, display miles\n    }\n    return \"estimated dist\"\n  }\n\n  // returns an array of time labels for a given paces array\n  // and the total time the user spent on running mode\n  makePaceLabels(paces, totalTime) {\n    let timeInterval = Math.floor(totalTime / paces.length)\n    let timeSeries = Array(paces.length)\n\n    // add 1 to length of paces array cuz you wanna start with 0\n    // on the display chart\n    for (let i = 0; i < paces.length + 1; i++) {\n      timeSeries[i] = `${Math.floor(timeInterval * i / 10)} sec`\n    }\n    return timeSeries\n  }\n\n  render() {\n    var { runJson } = this.context\n\n    // from withFitnessPage\n    var {\n      activityIndex,\n      pastGraphData,\n      pastGraphLabels,\n      dropdownItemClick,\n      displayDate,\n      nextSlide,\n      previousSlide,\n      calcAvgNum,\n      calcAvgCals,\n      isNullOrUndefined\n    } = this.props\n\n    var currentStatDisplay = runJson.activityData[activityIndex]\n    return (\n      <div className=\"run-container\">\n        <Carousel\n          stats={runJson}\n          previousSlide={previousSlide}\n          nextSlide={nextSlide}\n          activityIndex={activityIndex}\n          displayDate={displayDate}\n          dropdownItemClick={dropdownItemClick}\n          renderSecondary={this.estimateDistanceRun}\n        />\n        <div className=\"row\">\n          <div className=\"col-4\" align=\"center\">\n            <Calories \n              cals={isNullOrUndefined(currentStatDisplay) ? 0 : currentStatDisplay.calories}\n            />\n          </div>\n          <div className=\"col-4\" align=\"center\">\n            \n          </div>\n          <div className=\"col-4\" align=\"center\">\n            <Duration \n              duration={isNullOrUndefined(currentStatDisplay) ? 0 : currentStatDisplay.time}\n            />\n          </div>\n        </div>\n        <div className=\"row\">\n          {/* eventually configure the min and max of y axis */}\n          <div className=\"col\">\n            <Past\n              chartTitle=\"Previous Runs\"\n              labels={pastGraphLabels}\n              data={pastGraphData}\n              hoverLabel=\"Steps\"\n              activity=\"Runs\"\n              yAxisMin={0}\n              yAxisMax={Math.max(...pastGraphData)}\n            />\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col\">\n            <PaceLineProgression\n              activity=\"Pace Progression\"\n              displayDate={displayDate}\n              data={[0, ...currentStatDisplay.paces]} // add 0 to beginning of paces array to indicate 0 pace at time 0\n              labels={this.makePaceLabels(currentStatDisplay.paces, currentStatDisplay.time)}\n              hoverLabel=\"Pace\"\n              yAxisMin={0}\n              yAxisMax={Math.max(...currentStatDisplay.paces) + 2}\n            />\n          </div>\n        </div>\n        <div className=\"row mt-3\">\n          <div className=\"col-6\">\n            <div className=\"card text-center\">\n              <div className=\"card-body\">\n                <h5 className=\"card-title\">Avg Steps per Session</h5>\n                {calcAvgNum()}\n              </div>\n            </div>\n          </div>\n          <div className=\"col-6\">\n            <div className=\"card text-center\">\n              <div className=\"card-body\">\n                <h5 className=\"card-title\">Avg Pace per Session</h5>\n                {this.calcAvgPace()}\n              </div>\n            </div>\n          </div>\n        </div>\n        <div className=\"row mt-3\">\n          <div className=\"col-6\">\n            <div className=\"card text-center\">\n              <div className=\"card-body\">\n                <h5 className=\"card-title\">Avg Cals per Session</h5>\n                {calcAvgCals()}\n              </div>\n            </div>\n          </div>\n          <div className=\"col-6\">\n            <div className=\"card text-center\">\n              <div className=\"card-body\">\n                <RunDoughnut\n                  labels={['% run', '% walk', '% rest']}\n                  data={this.makeDoughnutData()}\n                  colors={[\n                    'rgba(102, 255, 102, 0.4)',\n                    'rgba(255, 255, 0, 0.4)',\n                    'rgba(255, 51, 0, 0.4)',\n                  ]}\n                />\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nRun.contextType = SpaContext\nexport default withFitnessPage(Run)\n","import React, { Component } from 'react'\nimport Carousel from \"../carousel/Carousel\"\nimport Calories from \"../Calories\"\nimport Duration from \"../Duration\"\nimport SpaContext from '../../Context'\nimport Past from \"../charts/Past\"\nimport withFitnessPage from \"../withFitnessPage\"\nimport { rawHeightConvert } from \"../../utils/unitConverter\" \n\nclass Jump extends Component {\n  constructor(props) {\n    super(props)\n    this.getCurrentBestHeight = this.getCurrentBestHeight.bind(this)\n  }\n\n  calcAvgHeight() {\n    var { activityData } = this.context.jumpJson\n    var avg = 0\n    var count = 0\n    activityData.forEach((session, i) => {\n      session.heights.forEach((height, j) => {\n        avg += height; count += 1;\n      })\n    })\n    // show only 2 decimal digits\n    return (count === 0) ? 0 : parseFloat(avg / count).toFixed(2)\n  }\n\n  getCurrentBestHeight() {\n    var { unitSystem } = this.context.settings\n    var { activityData } = this.context.jumpJson\n    var { activityIndex } = this.props\n    if (activityData.length === 0) { return null }\n    var session = activityData[activityIndex]\n    var best = Math.max(...session.heights)\n    best = unitSystem === \"metric\" ? rawHeightConvert(unitSystem, best) : best\n    return (\n      <span>\n        {\"highest: \" + best + (unitSystem === \"metric\" ? \" cm\" : \" in\")}\n      </span>\n    )\n  }\n\n  render() {\n    var { jumpJson, settings, bests } = this.context\n    var { unitSystem } = settings\n    var {\n      activityIndex,\n      pastGraphData,\n      pastGraphLabels,\n      dropdownItemClick,\n      displayDate,\n      nextSlide,\n      previousSlide,\n      calcAvgNum,\n      calcAvgCals,\n      isNullOrUndefined\n    } = this.props\n    var currentStatDisplay = jumpJson.activityData[activityIndex]\n    console.log(pastGraphData)\n    return (\n      <div className=\"jump-container\">\n        <div className=\"row\">\n          <div className=\"col\">\n            <Carousel\n              stats={jumpJson}\n              previousSlide={previousSlide}\n              nextSlide={nextSlide}\n              activityIndex={activityIndex}\n              displayDate={displayDate}\n              dropdownItemClick={dropdownItemClick}\n              renderSecondary={this.getCurrentBestHeight}\n            />\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col-4\" align=\"center\">\n            <Calories \n              cals={isNullOrUndefined(currentStatDisplay) ? 0 : currentStatDisplay.calories}\n            />\n          </div>\n          <div className=\"col-4\" align=\"center\">\n            {/* don't need details from jump rn\n            <Details detailsLink={jumpLink}/> */}\n          </div>\n          <div className=\"col-4\" align=\"center\">\n            <Duration \n              duration={isNullOrUndefined(currentStatDisplay) ? 0 : currentStatDisplay.time}\n            />\n          </div>\n        </div>\n        <div className=\"row\">\n          {/* eventually configure the min and max of y axis */}\n          <div className=\"col\">\n            <Past\n              chartTitle=\"Previous Sessions\"\n              labels={pastGraphLabels}\n              data={pastGraphData}\n              hoverLabel=\"Jumps\"\n              activity=\"Jumps\"\n              yAxisMin={0}\n              yAxisMax={20}\n            />\n          </div>\n        </div>\n        <div className=\"row mt-3\">\n          <div className=\"col-6\">\n            <div className=\"card text-center\">\n              <div className=\"card-body\">\n                <h5 className=\"card-title\">Avg Jumps per Session</h5>\n                {calcAvgNum()}\n              </div>\n            </div>\n          </div>\n          <div className=\"col-6\">\n            <div className=\"card text-center\">\n              <div className=\"card-body\">\n                <h5 className=\"card-title\">Avg height per Session</h5>\n                {this.calcAvgHeight() + \" \" + (unitSystem === \"metric\" ? \"cm\" : \"in\")}\n              </div>\n            </div>\n          </div>\n        </div>\n        <div className=\"row mt-3\">\n          <div className=\"col-6\">\n            <div className=\"card text-center\">\n              <div className=\"card-body\">\n                <h5 className=\"card-title\">Avg Cals per Session</h5>\n                {calcAvgCals()}\n              </div>\n            </div>\n          </div>\n          <div className=\"col-6\">\n            <div className=\"card text-center\">\n              <div className=\"card-body\">\n                <h5 className=\"card-title\">Overall Best</h5>\n                {bests.jump}\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nJump.contextType = SpaContext\nexport default withFitnessPage(Jump)\n","import React from 'react'\nimport {\n  NavLink,\n} from \"react-router-dom\"\n\nexport default function Details( props ) {\n  return (\n    <div className=\"mt-3\">\n      <NavLink\n        className=\"btn btn-primary\"\n        id=\"details\"\n        to={props.detailsLink}\n      >\n        details\n      </NavLink>\n    </div>\n  )\n}\n","import React from 'react'\nimport Doughnut from \"react-chartjs-2\"\n\nexport default function SwimDoughnut( props ) {\n  return (\n    <div>\n      <Doughnut\n        data={{\n          datasets: [{\n            data: props.data,\n            backgroundColor: props.colors\n          }],\n          labels: props.labels\n        }}\n        options={{\n          legend: {\n            display: false,\n          },\n          responsive: true,\n          maintainAspectRatio: false,\n        }}\n      />\n    </div>\n  )\n}","import React, { Component } from 'react'\nimport Carousel from \"../carousel/Carousel\"\nimport Calories from \"../Calories\"\nimport Duration from \"../Duration\"\nimport Details from \"../Details\"\nimport SpaContext from '../../Context'\nimport Past from \"../charts/Past\"\nimport withFitnessPage from \"../withFitnessPage\"\nimport SwimDoughnut from \"./SwimDoughnut\"\n\nconst metersToYards = 1.0 / 1.09361\nconst yardsToMeters = 1.0 / 0.9144\nconst swimLink = \"/app/swimDetails\"\n\nclass Swim extends Component {\n  constructor(props) {\n    super(props)\n  \n    this.state = {\n       \n    }\n    this.calculateDistance = this.calculateDistance.bind(this)\n    this.calcAvgSpeed = this.calcAvgSpeed.bind(this)\n  }\n\n  calculateDistance(currentStatDisplay) {\n    var { swimLap, unitSystem } = this.context.settings\n    const { roundToNDecimals, isNullOrUndefined } = this.props\n    unitSystem = unitSystem.toLowerCase()\n    if (isNullOrUndefined(currentStatDisplay)) {\n      return 0\n    }\n    var { num } = currentStatDisplay\n    if (swimLap === \"50 m\") {\n      let distanceInMeters = 50 * num\n      return (unitSystem === \"metric\" ? \n              distanceInMeters : \n              roundToNDecimals(distanceInMeters * metersToYards, 2))\n    } else if (swimLap === \"25 m\") {\n      let distanceInMeters = 25 * num\n      return (unitSystem === \"metric\" ? \n              distanceInMeters : \n              roundToNDecimals(distanceInMeters * metersToYards, 2))\n    } else {\n      // 25yd\n      let distanceInYards = 25 * num\n      return (unitSystem === \"english\" ? \n              distanceInYards : \n              roundToNDecimals(distanceInYards * yardsToMeters, 2))\n    }\n  }\n\n  calcAvgSpeed() {\n    var { activityData } = this.props.activityJson\n    var { swimLap, unitSystem } = this.context.settings\n    const { roundToNDecimals, isNullOrUndefined } = this.props\n    if (isNullOrUndefined(activityData)) {\n      return 0\n    }\n    // returns [50/25, m/yd] both as strings\n    var distMetric = swimLap.split(\" \")\n    var distance = 0; var time = 0;\n    // var incrementDistance = (distance, distMetric) => {\n    //   return distance + distMetric\n    // }\n    activityData.forEach((session, i) => {\n      var { lapTimes, num } = session\n      // sum over all times in the lapTimes array\n      time += lapTimes.reduce((a, b) => a + b, 0)\n      // add 50/25 * the number of laps done\n      distance = distMetric[0] * num\n    })\n    // now have average distance / time in either m/s or yd/s\n    var avgSpeed = (distance === 0 ? 0 : distance / time)\n\n    if (distMetric[1] === \"yd\") {\n      // avg speed is in yds / s\n      return (unitSystem === \"metric\" ?\n              roundToNDecimals(avgSpeed * yardsToMeters, 2) :\n              avgSpeed)\n    } else {\n      // avg speed is in meters / s\n      return (unitSystem === \"metric\" ?\n              avgSpeed :\n              roundToNDecimals(avgSpeed * metersToYards, 2))\n    }\n  }\n\n  calcAvgTimePerLap() {\n    var { activityData } = this.props.activityJson\n    const { roundToNDecimals, isNullOrUndefined } = this.props\n    if (isNullOrUndefined(activityData)) {\n      return 0\n    }\n    var totalTime = 0; var totalNumLaps = 0;\n    activityData.forEach((session, idx) => {\n      totalTime += session.lapTimes.reduce((a, b) => a + b, 0)\n      totalNumLaps += session.num\n    })\n    return roundToNDecimals(totalTime / totalNumLaps, 2)\n  }\n\n  makeDoughnutData() {\n    var { activityData } = this.props.activityJson\n    const { isNullOrUndefined } = this.props\n    if (isNullOrUndefined(activityData)) {\n      return 0\n    }\n    var flyCount    = 0, \n        backCount   = 0,\n        breastCount = 0,\n        freeCount   = 0;\n    activityData.forEach((session, i) => {\n      session.strokes.forEach((stroke, j) => {\n        let lowerCaseStroke = stroke.toLowerCase()\n        if (lowerCaseStroke === \"u\") {\n          flyCount += 1\n        } else if (lowerCaseStroke === \"b\") {\n          backCount += 1\n        } else if (lowerCaseStroke === \"r\") {\n          breastCount += 1\n        } else if (lowerCaseStroke === \"f\") {\n          freeCount += 1\n        }\n      })\n    })\n    return [flyCount, backCount, breastCount, freeCount]     \n  }\n  \n  render() {\n    var { settings, swimJson } = this.context\n    var { unitSystem } = settings\n    var {\n      activityIndex,\n      pastGraphData,\n      pastGraphLabels,\n      dropdownItemClick,\n      displayDate,\n      nextSlide,\n      previousSlide,\n      calcAvgNum,\n      calcAvgCals,\n      isNullOrUndefined,\n    } = this.props\n    // this could be undefined if user has no recorded data\n    var currentStatDisplay = swimJson.activityData[activityIndex]\n    // 50m, 25yd, or 25m\n    return (\n      <div className=\"swim-container\">\n        <div className=\"row\">\n          <div className=\"col\">\n            <Carousel\n              stats={swimJson}\n              previousSlide={previousSlide}\n              nextSlide={nextSlide}\n              activityIndex={activityIndex}\n              displayDate={displayDate}\n              dropdownItemClick={dropdownItemClick}\n              renderSecondary={this.calculateDistance}\n            />\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col-4\" align=\"center\">\n            <Calories \n              cals={isNullOrUndefined(currentStatDisplay) ? 0 : currentStatDisplay.calories}\n            />\n          </div>\n          <div className=\"col-4\" align=\"center\">\n            <Details detailsLink={swimLink}/>\n          </div>\n          <div className=\"col-4\" align=\"center\">\n            <Duration \n              duration={isNullOrUndefined(currentStatDisplay) ? 0 : currentStatDisplay.time}\n            />\n          </div>\n        </div>\n        <div className=\"row\">\n          {/* eventually configure the min and max of y axis */}\n          <div className=\"col\">\n            <Past\n              chartTitle=\"Previous Swims\"\n              labels={pastGraphLabels}\n              data={pastGraphData}\n              hoverLabel=\"Laps\"\n              activity=\"Swims\"\n              yAxisMin={0}\n              yAxisMax={50}\n            />\n          </div>\n        </div>\n        <div className=\"row mt-3\">\n          <div className=\"col-6\">\n            <div className=\"card text-center\">\n              <div className=\"card-body\">\n                <h5 className=\"card-title\">Avg Laps per Session</h5>\n                {calcAvgNum()}\n              </div>\n            </div>\n          </div>\n          <div className=\"col-6\">\n            <div className=\"card text-center\">\n              <div className=\"card-body\">\n                <h5 className=\"card-title\">Avg Speed per Lap</h5>\n                {this.calcAvgSpeed() + \" \" + (unitSystem === \"metric\" ? \"m/s\" : \"yd/s\")}\n              </div>\n            </div>\n          </div>\n        </div>\n        <div className=\"row mt-3\">\n          <div className=\"col-6\">\n            <div className=\"card text-center\">\n              <div className=\"card-body\">\n                <h5 className=\"card-title\">Avg Time per Lap</h5>\n                {this.calcAvgTimePerLap() + \" seconds\"}\n              </div>\n            </div>\n          </div>\n          <div className=\"col-6\">\n            <div className=\"card text-center\">\n              <div className=\"card-body\">\n                <h5 className=\"card-title\">Avg Strokes per Lap</h5>\n                avg strokes\n              </div>\n            </div>\n          </div>\n        </div>\n        <div className=\"row mt-3\">\n          <div className=\"col-6\">\n            <div className=\"card text-center\">\n              <div className=\"card-body\">\n                <h5 className=\"card-title\">Avg Cals per Session</h5>\n                {calcAvgCals()}\n              </div>\n            </div>\n          </div>\n          <div className=\"col-6\">\n            <div className=\"card text-center\">\n              <div className=\"card-body\">\n                <h5 className=\"card-title\">Stroke Distribution</h5>\n                <SwimDoughnut\n                  data={this.makeDoughnutData()}\n                  labels={[\"laps fly\", \"laps back\", \"laps breast\", \"laps free\"]}\n                  colors={[\n                    'rgba(102, 255, 102, 0.4)',\n                    'rgba(255, 255, 0, 0.4)',\n                    'rgba(255, 51, 0, 0.4)',\n                    'rgba(255, 153, 0, 0.4)',\n                  ]}\n                />\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nSwim.contextType = SpaContext\nexport default withFitnessPage(Swim)\n","import React, { Component } from 'react'\nimport Run from \"./run/Run\"\nimport Jump from \"./jump/Jump\"\nimport Swim from \"./swim/Swim\"\nimport \"./Fitness.css\"\nimport SpaContext from \"../Context\"\n// import { CSSTransition, TransitionGroup } from 'react-transition-group'\nimport './fitnessTransitions.css'\n\nclass Fitness extends Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      display: true,\n      activityDisplay: \"\", // which activity to display\n    }\n    this.renderActivity = this.renderActivity.bind(this)\n    this.changeActivityDisplay = this.changeActivityDisplay.bind(this)\n  }\n\n  renderActivity() {\n    var { activityDisplay } = this.state\n    var { runJson, jumpJson, swimJson } = this.context\n    if (activityDisplay === \"run\") {\n      return ( <Run id='run' activityJson={runJson}/> )\n    } else if (activityDisplay === \"jump\") {\n      return ( <Jump id='jump' activityJson={jumpJson}/> )\n    } else if (activityDisplay === \"swim\") {\n      return ( <Swim id='swim' activityJson={swimJson}/> )\n    } else {\n      return ( <div className='no-activity-container'> <span>pick an activity</span> </div>)\n    }\n  }\n\n  changeActivityDisplay(activity) {\n    //debugger;\n    this.setState({\n      activityDisplay: activity,\n      showTransition: true,\n    })\n  }\n\n  render() {\n    var { activityDisplay } = this.state\n    return (\n      <div className=\"fitness-container\">\n        <div className=\"card-header fitness-header\">Activity:</div>\n        <nav className=\"navbar navbar-expand navbar-text sticky bg-light\">\n          <ul className=\"navbar-nav mr-auto\">\n            <li className=\"nav-item mx-4\">\n              <span \n                className={`run-link nav-link ${(activityDisplay === \"run\") ? \"active\" : \"\"}`}\n                onClick={() => {this.changeActivityDisplay(\"run\")}}\n              >\n                Run\n              </span>\n            </li>\n            <li className=\"nav-item mx-4\">\n              <span\n                className={`swim-link nav-link ${(activityDisplay === \"swim\") ? \"active\" : \"\"}`}\n                onClick={() => {this.changeActivityDisplay(\"swim\")}}\n              >\n                Swim\n              </span>\n            </li>\n            <li className=\"nav-item mx-4\">\n              <span\n                className={`jump-link nav-link ${(activityDisplay === \"jump\") ? \"active\" : \"\"}`}\n                onClick={() => {this.changeActivityDisplay(\"jump\")}}\n              >\n                Jump\n              </span>\n            </li>\n          </ul>\n        </nav>\n        {/* <TransitionGroup>\n          <CSSTransition\n            key={this.state.activityDisplay}\n            timeout={600}\n            classNames='fitnessFade'\n          > */}\n            { this.renderActivity() }\n          {/* </CSSTransition>\n        </TransitionGroup> */}\n      </div>\n    )\n  }\n}\n\n// consume the context provided by the SPA\nFitness.contextType = SpaContext\n\nexport default Fitness;\n","import React, { Component } from 'react'\nimport { Line } from 'react-chartjs-2';\nimport \"chartjs-plugin-zoom\"\nimport \"hammerjs\";\nimport \"./DateBar.css\"\n\n// converts data to correct format for linear chart with smooth panning\nfunction convertData(data) {\n  var newData = {}\n  newData = data.map((d, i) => {\n    return {\n      x: i,\n      y: d\n    }\n  })\n  return newData\n}\n\nclass DateBar extends Component {\n  render() {\n    return (\n      <div style={{\n        overflowX: \"scroll\",\n        width: \"300px\"\n      }}>\n          <Line\n            data={{\n              labels: this.props.labels,\n              datasets: [{\n                  // label: 'awef',\n                  data: convertData(this.props.data),\n                  backgroundColor: 'rgba(255, 99, 132, 0.2)',\n                  borderColor: 'rgba(255, 99, 132, 1)',\n                  borderWidth: 1\n              }]\n            }}\n            options={{\n              scales: {\n                xAxes: [{\n                  type: \"linear\",\n                  ticks: {\n                    stepSize: 1,\n                    maxRotation: 0,\n                  },\n                  position: \"bottom\",\n                  scaleLabel: {\n                    display: true,\n                    labelString: \"Jump\"\n                  },\n                }],\n                yAxes: [{\n                  type: \"linear\"\n                }]\n              },\n              animation: {\n                easing: \"easeInOutSine\",\n                duration: \"1500\"\n              },\n              maintainAspectRatio: false,\n              title: {\n                text: \"Date\",\n                display: true,\n                fontSize: 16\n              },\n              legend: {\n                display: false,\n                position: 'right'\n              },\n              responsive: true,\n              plugins: {\n                zoom: {\n                  pan: {\n                    enabled: true,\n                    mode: 'x',\n                    speed: 2,\n                    threshold: 10\n                  },\n                  zoom: {\n                    enabled: true,\n                    mode: 'x',\n                    limits: {\n                      max: 10,\n                      min: 0.5\n                    }\n                  }\n                }\n              }\n            }}\n          />\n      </div>\n    )\n  }\n}\n\nexport default DateBar\n","import React, { Component } from 'react'\n// import { Doughnut, Bar, Pie } from 'react-chartjs-2';\nimport DateBar from \"../charts/DateBar\"\nimport Past from \"../charts/Past\"\nimport SpaContext from \"../../Context\"\nimport {getToken, localStorageKey} from \"../../utils/storage\"\nimport ENDPOINTS from \"../../endpoints\"\nconst dataURL = ENDPOINTS.getData\n\nclass RunDetails extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      labels: [],\n      data: [],\n    }\n\n    this.setJumpData = this.setJumpData.bind(this)\n  }\n\n  componentDidMount() {\n    this.setJumpData()\n  }\n  // fetches data by making request to server\n  // updates the state if successfull\n  setJumpData() {\n    var headers = new Headers()\n    var token = getToken(localStorageKey)\n    headers.append(\"authorization\", `Bearer ${token}`)\n    headers.append(\"activity\", \"run\")\n\n    fetch(dataURL, {\n      method: \"GET\",\n      headers: headers,\n    })\n      .catch( (err) => {\n        throw err\n      })\n      .then( (response) => {\n        return response.json()\n      })\n      .then((json) => {\n        if (json.success) {\n          // debugger;\n          let chartLabels = this.makeLabels(json)\n          let chartData = this.getData(json)\n          this.setState({\n            labels: chartLabels,\n            data: chartData\n          })\n        } else {\n          alert(json.message)\n        }\n      })\n  }\n\n  makeLabels(json) {\n    // debugger\n    var labels = []\n    for (var i = 1; i < json.heights.length + 1; i++) {\n      labels.push(i)\n    }\n    return labels\n  }\n\n  // each data entry is a vertical height in inches\n  getData(json) {\n    var data = []\n    var heights = json.heights\n    heights.forEach(h => {\n      data.push(h)\n    })\n    return data\n  }\n\n  render() {\n    return (\n      <div>\n        <DateBar\n          labels={this.state.labels}\n          data={this.state.data}\n        />\n        <Past\n          labels={this.state.labels}\n          data={this.state.data}\n        />\n      </div>\n    )\n  }\n}\n\nRunDetails.contextType = SpaContext\nexport default RunDetails\n","import React, { Component } from 'react'\nimport { Bar } from 'react-chartjs-2';\n\nclass SwimDetails extends Component {\n  render() {\n    return (\n      <Bar\n        data={{\n          labels: this.props.labels,\n          datasets: [{\n              label: 'quantity',\n              data: this.props.data,\n              backgroundColor: [\n                  'rgba(255, 99, 132, 0.2)',\n                  'rgba(54, 162, 235, 0.2)',\n                  'rgba(255, 206, 86, 0.2)',\n                  'rgba(75, 192, 192, 0.2)',\n                  'rgba(153, 102, 255, 0.2)',\n                  'rgba(255, 159, 64, 0.2)'\n              ],\n              borderColor: [\n                  'rgba(255, 99, 132, 1)',\n                  'rgba(54, 162, 235, 1)',\n                  'rgba(255, 206, 86, 1)',\n                  'rgba(75, 192, 192, 1)',\n                  'rgba(153, 102, 255, 1)',\n                  'rgba(255, 159, 64, 1)'\n              ],\n              borderWidth: 1\n          }]\n        }}\n        options={{\n          maintainAspectRatio: true,\n          title: {\n            text: \"Title\",\n            display: true,\n            fontSize: 16\n          },\n          legend: {\n            display: true,\n            position: 'right'\n          },\n          responsive: true\n        }}\n      />\n    )\n  }\n}\n\nexport default SwimDetails\n","import React, { Component } from 'react'\n// import { Doughnut, Bar, Pie } from 'react-chartjs-2';\nimport DateBar from \"../charts/DateBar\"\nimport Past from \"../charts/Past\"\nimport {\n  NavLink,\n} from \"react-router-dom\";\nimport {\n  getToken,\n  localStorageKey\n} from '../../utils/storage'\nimport ENDPOINTS from \"../../endpoints\"\nconst dataURL = ENDPOINTS.getData\n\nclass JumpDetails extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      labels: [],\n      data: [],\n    }\n\n    this.setJumpData = this.setJumpData.bind(this)\n  }\n\n  componentDidMount() {\n    this.setJumpData()\n  }\n  // fetches data by making request to server\n  // updates the state if successfull\n  setJumpData() {\n\n    var headers = new Headers()\n    var token = getToken(localStorageKey)\n    headers.append(\"authorization\", `Bearer ${token}`)\n    headers.append(\"activity\", \"jump\")\n\n    fetch(dataURL, {\n      method: \"GET\",\n      headers: headers,\n    })\n      .catch( (err) => {\n        throw err\n      })\n      .then( (response) => {\n        return response.json()\n      })\n      .catch((err) => {throw err})\n      .then((json) => {\n        if (json.success) {\n          var { activityData } = json\n          // assign data, labels to the chart\n          let chartLabels = this.makeLabels(activityData)\n          let chartData = this.getData(activityData)\n          this.setState({\n            labels: chartLabels,\n            data: chartData\n          })\n        } else {\n          alert(json.message)\n        }\n      })\n  }\n\n  // each label corresponds to 1 jump\n  makeLabels(json) {\n    // debugger\n    var labels = []\n    for (var i = 1; i < json.heights.length + 1; i++) {\n      labels.push(i)\n    }\n    return labels\n  }\n\n  // each data entry is a vertical height in inches\n  getData(json) {\n    var data = []\n    var heights = json.heights\n    heights.forEach(h => {\n      data.push(h)\n    })\n    return data\n  }\n\n  render() {\n    return (\n      <div style={{\n        display: \"flex\",\n        flexDirection: \"column\",\n        justifyContent: \"center\",\n        alignItems: \"center\"\n      }}>\n        <DateBar\n          labels={this.state.labels}\n          data={this.state.data}\n        />\n        <Past\n          labels={this.state.labels}\n          data={this.state.data}\n        />\n        <NavLink\n          className=\"routeButton\"\n          id=\"backFromJumpDetails\"\n          to=\"/graph\"\n          style={{\n            marginTop: \"20px\"\n          }}\n        >\n          Back\n        </NavLink>\n      </div>\n    )\n  }\n}\n\nexport default JumpDetails\n","import React, { useContext } from 'react'\nimport SpaContext from \"../Context\"\nimport { getToken } from '../utils/storage'\nimport { Formik, Form } from 'formik'\nimport * as Yup from 'yup';\nimport \"./css/editProfile.css\"\nimport { weightConvert, heightConvert, englishHeight } from \"../utils/unitConverter\"\nimport { textField, textArea, weightDisplay, heightDisplay } from '../generic/fieldComponents'\nimport ENDPOINTS from \"../endpoints\"\nconst updateProfileURL = ENDPOINTS.updateProfile\nconst checkDuplicateURL = ENDPOINTS.checkDuplicatePic\nconst uploadPicURL = ENDPOINTS.uploadProfilePic\nconst imgAlt = \"./default_profile.png\"\n\nexport default function EditProfileFunc(props) {\n  const context = useContext(SpaContext);\n  const validationSchema = Yup.object({\n    updateFirstName: Yup.string()\n      .max(15, 'Must be 15 characters or less')\n      .required('Cannot be empty'),\n    updateLastName: Yup.string()\n      .max(20, 'Must be 20 characters or less')\n      .required('Cannot be empty'),\n    updateBio: Yup.string()\n      .max(250, \"Must be 250 characters or less\"),\n    updateAge: Yup.number()\n      .positive(\"Must be greater than 0\")\n      .integer(\"Must be a whole number\"),\n    updateLocation: Yup.string()\n      .max(250, 'Must be 250 characters or less'),\n    updateGender: Yup.string()\n      .max(50, 'Must be 50 characters or less'),\n    updateHeightCm: Yup.number()\n      .positive(\"Must be greater than 0\")\n      .integer(\"Must be a whole number\"),\n    updateHeightIn: Yup.number()\n      .positive(\"Must be greater than 0\")\n      .integer(\"Must be a whole number\"),\n    updateHeightFt: Yup.number()\n      .positive(\"Must be greater than 0\")\n      .integer(\"Must be a whole number\"),\n    updateWeight: Yup.number()\n      .positive(\"Must be greater than 0\")\n      .integer(\"Must be a whole number\"),\n  })\n  async function updateProfile(formValues) {\n    alert(\"updating\")\n    var { updateFirstName, updateLastName, updateBio, updateLocation, updateGender } = formValues\n    var { updateHeightFt, updateHeightIn, updateHeightCm, updateWeight, updateAge } = formValues\n    var { file } = formValues\n    var { profilePicture } = context\n    var { unitSystem } = context.settings\n    unitSystem = unitSystem.toLowerCase()\n    var userToken = getToken()\n\n    var formData = new FormData();\n\n    formData.append(\"profilePic\", file)\n    formData.append(\"currImgHash\", profilePicture.etag)\n\n    // check to see if file was already uploaded in the past\n    // turn this into a function that returns a promise later and await/.then it\n    if (file) {\n      var verifyRes = await fetch(checkDuplicateURL, {\n        method: \"POST\",\n        body: formData,\n      })\n      var verifyJson = await verifyRes.json()\n      if (!verifyJson.success) {\n        alert(verifyJson.message)\n        return\n      }\n      var headers = new Headers()\n      headers.append(\"authorization\", `Bearer ${userToken}`)\n      var uploadPicRes = await fetch(uploadPicURL, {\n        method: \"POST\",\n        headers,\n        body: formData\n      })\n      var uploadPicJson = await uploadPicRes.json()\n      if (uploadPicJson.success) {\n        alert(\"successfully updated profile picture!\")\n      }\n    }\n\n    // if unit system is English, convert ft and in into 1 number in inches\n    var weight = unitSystem === 'metric' ? `${updateWeight} kg` : `${updateWeight} lbs`\n    var height = unitSystem === 'metric' ? `${updateHeightCm} cm` : `${updateHeightFt} ft ${updateHeightIn} in`\n    var reqBody = {\n      firstName: updateFirstName,\n      lastName: updateLastName,\n      bio: updateBio,\n      location: updateLocation,\n      gender: updateGender,\n      weight,\n      height,\n      age: updateAge,\n      userToken,\n    }\n\n    var updateRes = await fetch(updateProfileURL, {\n      method: \"POST\",\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(reqBody),\n    })\n    var updateJson = await updateRes.json()\n    console.log(\"aioajweif\", updateJson)\n    if (updateJson.success) {\n      alert(\"successfully updated profile\")\n      // refresh the page to get new context n everything\n      window.location.reload()\n    } else {\n      alert(updateJson.message)\n    }\n  }\n\n  var { firstName, lastName, bio, age, location, gender, height, weight } = context\n  const { unitSystem } = context.settings\n  weight = weightConvert(unitSystem, weight)\n  height = heightConvert(unitSystem, height)\n  console.log(context)\n  if (context.mounted) {\n    return (\n      <div className=\"edit-profile-container\">\n        <Formik\n          initialValues={{\n            updateFirstName: firstName,\n            updateLastName: lastName,\n            updateBio: bio,\n            updateAge: age,\n            updateLocation: location,\n            updateGender: gender,\n            updateHeightCm: unitSystem === 'metric' ? height.split(' ')[0] : '',\n            updateHeightIn: unitSystem === 'english' ? englishHeight(height).split(' ')[0] : '', // num ft num in\n            updateHeightFt: unitSystem === 'english' ? englishHeight(height).split(' ')[2] : '', // num ft num in\n            updateWeight: weight ? weight.split(' ')[0] : '' // weight format is 'weight units'\n          }}\n          validationSchema={validationSchema}\n          onSubmit={(values, { setSubmitting }) => {\n            console.log(values)\n            updateProfile(values)\n            setSubmitting(false)\n          }}\n        >\n          {({ errors, touched, setFieldValue }) => (\n            <Form>\n              <div className='prof-pic-container'>\n                <img src={context.profilePicture.profileURL} width=\"300\" height=\"300\" alt={imgAlt}/>\n                <label htmlFor='submit-prof-pic' className='custom-file-upload'>\n                  <input\n                    id='submit-prof-pic'\n                    type=\"file\"\n                    onChange={(event) => {\n                      setFieldValue(\"file\", event.currentTarget.files[0]);\n                    }}\n                    accept=\"image/x-png,image/jpeg\"\n                  />\n                  Upload an Image\n                </label>\n              </div>\n              {textField('First Name', 'text', 'updateFirstName', 'field', errors.updateFirstName, touched.updateFirstName)}\n              {textField('Last Name', 'text', 'updateLastName', 'field', errors.updateLastName, touched.updateLastName)}\n              {textArea('Bio', 'updateBio', 'field', errors.updateBio, touched.updateBio)}\n              {textField('Gender', 'text', 'updateGender', 'field', errors.updateGender, touched.updateGender)}\n              {textField('Age', 'text', 'updateAge', 'field', errors.updateAge, touched.updateAge)}\n              {textField('Location', 'text', 'updateLocation', 'field', errors.updateLocation, touched.updateLocation)}\n              {weightDisplay('updateWeight', 'field', unitSystem, errors)}\n              {heightDisplay(\n                'updateHeight', //revisit how this is implemented cuz there could be 3 different things\n                'field',\n                unitSystem,\n                errors,\n              )}\n              <div className='submit-container'>\n                <input type=\"submit\" className=\"button\" value=\"Update Profile\" id=\"update-button\"/>\n                <div className='cancel' onClick={props.closePopup}>Cancel</div>\n              </div>\n            </Form>\n          )}\n        </Formik>\n      </div>\n    )\n  } else {\n    // spa hasn't mounted and established context yet\n    return (\n      <div className=\"profile-loading-container\">\n        <span>loading...</span>\n      </div>\n    )\n  }\n}\n","// Displays the profile of the user who is logged in on the browser\n// They should be able to see everything\nimport React, { Component } from 'react'\nimport {\n  withRouter,\n} from \"react-router-dom\";\nimport ShowMoreText from 'react-show-more-text';\n\nimport SpaContext from '../Context';\nimport { weightConvert, heightConvert } from \"../utils/unitConverter\"\nimport \"./css/userProfile.css\"\nimport Popup from \"reactjs-popup\";\nimport EditProfileFunc from \"./EditProfileFunc\"\n// replace with default avatar link\nconst imgAlt = \"./default_profile.png\"\n\nclass UserProfile extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      bestJump: \"\",\n      bestSwim: \"\",\n      bestRun: \"\",\n      editProfile: false,\n      expandBio: false,\n    }\n  }\n\n  componentDidMount() {\n    console.log(\"profile mounted\")\n    // make a fetch request to get the bests of each user,\n    // as well as the units they wanna display\n  }\n\n  renderBio() {\n    var { bio } = this.context\n    const onClick = () => {\n      this.setState({ expandBio: true })\n    }\n    if (!bio) {\n      return (\n        <p>No bio yet</p>\n      )\n    }\n    return (\n      <ShowMoreText\n        /* Default options */\n        lines={3}\n        more='Show more'\n        less='Show less'\n        anchorClass=''\n        onClick={onClick}\n        expanded={this.state.expandBio}\n      >\n        {bio}\n      </ShowMoreText>\n    )\n  }\n\n  renderHeight() {\n    // HEIGHT IS IN FORMAT (num) (units in in/cm). Can flat out display it if they \n    // want metric, else convert to __ ft __ in for english system \n    var { height, settings } = this.context\n    var { unitSystem } = settings\n    unitSystem = unitSystem.toLowerCase()\n    if (!height) {\n      return ( <p>set height</p> )\n    }\n    var displayHeight = height\n    if (unitSystem === \"english\") {\n      // convert to english system if database stores it in cm else just display it in __ ft __ in\n      displayHeight = heightConvert(\"english\", height)\n    } else if (unitSystem === \"metric\") {\n      displayHeight = heightConvert('metric', height)\n    } else {\n      console.error(new Error(\"unitsystem is not 'english' or 'metric'...\"))\n    }\n    return displayHeight\n  }\n\n  renderWeight() {\n    // weight has format (num) (units in kg/lbs)\n    var { weight, settings } = this.context\n    var { unitSystem } = settings\n    unitSystem = unitSystem.toLowerCase()\n    var displayWeight = weight\n    if (unitSystem === \"english\") {\n      // convert to english system if database stores it in cm else just display it in __ ft __ in\n      displayWeight = weightConvert(\"english\", weight)\n    } else if (unitSystem === \"metric\") {\n      displayWeight = weightConvert('metric', weight)\n    } else {\n      console.error(new Error(\"unitsystem is not 'english' or 'metric'...\"))\n    }\n    return displayWeight\n  }\n\n  renderBests() {\n    // calculate bests based off of state and settings\n  }\n\n  renderNumFriends() {\n    var { friends } = this.context\n    return (\n      <p>{\"friends: \" + friends.length}</p>\n    )\n  }\n\n  renderPopup() {\n    const editBtn = (\n      <div className='edit-btn-container'>\n        <i className='far'>&#xf044;</i>\n        <span className=\"edit-btn\">Edit Profile</span>\n      </div>\n    )\n    return (\n      <Popup trigger={editBtn} modal>\n        {close => (\n          <div className=\"popup-modal\">\n            <div className=\"popup-close\" onClick={close}>\n              &times;\n            </div>\n            <h4 className=\"popup-header\"> Edit your profile </h4>\n            <div className=\"content\">\n              <EditProfileFunc closePopup={close}/>\n            </div>\n          </div>\n        )}\n      </Popup>\n    )\n  }\n\n  render() {\n    var { context } = this\n    // if user clicked the button to go to the edit profile page\n    if (context.mounted) {\n      return (\n        <div className=\"profile-container\">\n          <div className='top-half'>\n            {this.renderPopup()}\n            <div className='img-container mt-2'>\n              <img \n                className='profile-pic'\n                src={context.profilePicture.profileURL}\n                height=\"75%\"\n                width=\"75%\"\n                alt={imgAlt}\n              />\n            </div>\n            <div className=\"name-container\">\n              <span className='fname'>{context.firstName}</span>\n              <span className='lname'>{context.lastName}</span>\n            </div>\n            <div className='info-container m-3'>\n              <div className='row'>\n                <div className='col-4'>\n                  <h5>Age</h5>\n                  <span>{context.age}</span>\n                </div>\n                <div className='col-4'>\n                  <h5>Height</h5>\n                  <span>{this.renderHeight()}</span>\n                </div>\n                <div className='col-4'>\n                  <h5>Weight</h5>\n                  <span>{this.renderWeight()}</span>\n                </div>\n              </div>\n            </div>\n            <div className='bio-container m-3'>\n              <span>{this.renderBio()}</span>\n            </div>\n          </div>\n          <div className='bot-half'>\n            <div className='row'>\n              <div className='col-6'>\n                total steps\n              </div>\n              <div className='col-6'>\n                total mins\n              </div>\n            </div>\n            <div className='row'>\n              <div className='col-6'>\n                total laps\n              </div>\n              <div className='col-6'>\n                hightest jump\n              </div>\n            </div>\n          </div>\n        </div>\n      )\n    } else {\n      // spa hasn't mounted and established context yet\n      return (\n        <div className=\"profile-loading-container\">\n          <span>loading...</span>\n        </div>\n      )\n    }\n  }\n}\nUserProfile.contextType = SpaContext\nexport default withRouter(UserProfile)\n","// Displays the profile of the searched person\n// that the user logged in on the browser searched for\n\nimport React, { Component } from 'react'\n// import {\n//   Redirect,\n// } from \"react-router-dom\";\n// import { englishHeight }from \"../utils/unitConverter\"\nimport SpaContext from '../Context';\nimport { withRouter } from 'react-router-dom';\nimport ErrorAlert from \"../messages/Error\"\nimport './css/userProfile.css'\nimport { getToken } from \"../utils/storage\"\nimport ENDPOINTS from '../endpoints'\nconst getSearchUserUrl = ENDPOINTS.getSearchUser\nconst getBasicInfoURL = ENDPOINTS.getSearchUserBasicInfo\nconst getFriendsURL = ENDPOINTS.getSearchUserFriends\nconst getFitnessURL = ENDPOINTS.getSearchUserFitness\n\nconst imgAlt = \"./default_profile.png\"\n\nclass SearchProfile extends Component {\n  constructor(props) {\n    super(props)\n  \n    this.state = {\n      errorMsgs: [],\n      settings: {},\n      firstName: '',\n      lastName: '',\n      isFriend: false,\n      bio: '',\n      age: 0,\n      height: '',\n      weight: '',\n      totals: {},\n      bests: {},\n      profilePicture: {},\n      friends: []\n    }\n    this.getBasicInfo = this.getBasicInfo.bind(this)\n    this.getFriends = this.getFriends.bind(this)\n    this.getTotalsAndBests = this.getTotalsAndBests.bind(this)\n  }\n\n  async getBasicInfo() {\n    var { seeBasicInfo } = this.state.settings\n    var { isFriend } = this.state\n    var { username } = this.props.match.params\n    if (seeBasicInfo === \"everyone\" || (seeBasicInfo === 'friends' && isFriend)) {\n      var res = await fetch(getBasicInfoURL, {\n        method: \"POST\",\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ username }),\n      })\n      var { bio, weight, height, age, gender } = await res.json()\n      this.setState({ bio, weight, height, age, gender })\n    }\n  }\n\n  async getFriends() {\n    var { seeFriendsList } = this.state.settings\n    var { isFriend } = this.state\n    var { username } = this.props.match.params\n    if (seeFriendsList === \"everyone\" || (seeFriendsList === \"friends\" && isFriend)) {\n      var res = await fetch(getFriendsURL, {\n        method: \"POST\",\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ username }),\n      })\n      var { friends } = await res.json()\n      this.setState({ friends })\n    }\n  }\n\n  async getTotalsAndBests() {\n    var { seeFitness } = this.state.settings\n    var { isFriend } = this.state\n    var { username } = this.props.match.params\n    if (seeFitness === \"everyone\" || (seeFitness === \"friends\" && isFriend)) {\n      var res = await fetch(getFitnessURL, {\n        method: \"POST\",\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ username }),\n      })\n      var { bests, totals } = await res.json()\n      this.setState({ bests, totals })\n    }\n  }\n\n  async componentDidMount() {\n    console.log(\"mounting search profile\")\n    // query this user's settings, bests, totals and set state\n    let { username } = this.props.match.params\n    var token = getToken()\n    let postBody = { searchUserName: username, userToken: token }\n    try {\n      var res = await fetch(getSearchUserUrl, {\n        method: \"POST\",\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(postBody),\n      })\n      var { success, settings, firstName, lastName, isFriend, profilePicture } = await res.json()\n      if (!success) {\n        this.setState(prevState => ({\n          errorMsgs: [...prevState.errorMsgs, 'Something went wrong. Please refresh and try again']\n        }))\n        return\n      }\n      this.setState({ settings, firstName, lastName, isFriend, profilePicture })\n      await Promise.all([this.getBasicInfo(), this.getTotalsAndBests(), this.getFriends()])\n    } catch(e) {\n      console.log(\"poswjefioawef\")\n      console.error(e)\n      alert('Something went wrong. Please refresh and try again')\n      this.setState(prevState => ({\n        errorMsgs: [...prevState.errorMsgs, e.toString()]\n      }))\n    }\n  }\n\n  // takes in an object of error messages and returns html elements to display them\n  showError(msg, idx) {\n    const onClose = () => {\n      this.setState(prevState => ({\n        errorMsgs: new Set( [...prevState.errorMsgs].filter(errMsg => errMsg !== msg))\n      }))\n    }\n    return ( <ErrorAlert msg={msg} key={idx} onClose={onClose}/> )\n  }\n\n  // Shows all the errors due to bad signin or signup\n  displayErrors() {\n    var errorMsgs = [...this.state.errorMsgs]\n    return errorMsgs.map(this.showError)\n  }\n\n  render() {\n    console.log(\"search profile has rendered\")\n    var { context } = this\n    var { firstName, lastName, age, height, bio, weight, totals, bests, profilePicture } = this.state\n    if (context.mounted) {\n      return (\n        <div className=\"profile-container\">\n          <div className='top-half'>\n            <div className='img-container mt-2'>\n              <img \n                className='profile-pic'\n                src={profilePicture.profileURL}\n                height=\"75%\"\n                width=\"75%\"\n                alt={imgAlt}\n              />\n            </div>\n            <div className=\"name-container\">\n              <span className='fname'>{firstName}</span>\n              <span className='lname'>{lastName}</span>\n            </div>\n            <div className='info-container m-3'>\n              <div className='row'>\n                <div className='col-4'>\n                  <h5>Age</h5>\n                  <span>{age}</span>\n                </div>\n                <div className='col-4'>\n                  <h5>Height</h5>\n                  <span>{height}</span>\n                </div>\n                <div className='col-4'>\n                  <h5>Weight</h5>\n                  <span>{weight}</span>\n                </div>\n              </div>\n            </div>\n            <div className='bio-container m-3'>\n              <span>{bio}</span>\n            </div>\n          </div>\n          <div className='bot-half'>\n            <div className='row'>\n              <div className='col-6'>\n                <h5>Total Steps</h5>\n                <span>{totals.steps}</span>\n              </div>\n              <div className='col-6'>\n                <h5>Total Min</h5>\n                <span>{totals.minutes}</span>\n              </div>\n            </div>\n            <div className='row'>\n              <div className='col-6'>\n                <h5>Total Laps</h5>\n                <span>{totals.laps}</span>\n              </div>\n              <div className='col-6'>\n                <h5>Highest Jump</h5>\n                <span>{bests.jump}</span>\n              </div>\n            </div>\n          </div>\n        </div>\n      )\n    } else {\n      // spa hasn't mounted and established context yet\n      return (\n        <div className=\"profile-loading-container\">\n          <span>loading...</span>\n        </div>\n      )\n    }\n  }\n}\nSearchProfile.contextType = SpaContext\n\nexport default withRouter(SearchProfile)","import React, { Component } from 'react';\nimport {\n  withRouter\n} from \"react-router-dom\";\nimport UserProfile from \"./UserProfile\"\nimport SearchProfile from \"./SearchProfile\"\nimport SpaContext from '../Context';\n\nclass Profile extends Component {\n  render() {\n    var { context } = this\n    var { username } = this.props.match.params\n    // debugger;\n    if (username === context.username) {\n      // this is the same user who is looking at their own profile\n      return ( <UserProfile/> )\n    }\n    return ( <SearchProfile/> )\n  }\n}\nProfile.contextType = SpaContext\n\nexport default withRouter(Profile)\n","import React from 'react'\n\nexport default function UnitSystemMenu(props) {\n  return (\n    <div className='settings-dropdown'>\n      <div className=\"btn-group\">\n      <button\n        type=\"button\"\n        className=\"btn btn-primary dropdown-toggle\"\n        data-toggle=\"dropdown\"\n        aria-haspopup=\"true\"\n        aria-expanded=\"false\"\n      >\n        {props.dropdownText}\n      </button>\n      <div className=\"dropdown-menu\" aria-labelledby=\"dropdownMenuButton\">\n        <span className=\"dropdown-item\" onClick={props.onSelect}>English</span>\n        <span className=\"dropdown-item\" onClick={props.onSelect}>metric</span>\n      </div>\n      </div>\n    </div>\n  )\n}\n","import React from 'react'\n\nexport default function PoolLengthMenu(props) {\n  return (\n    <div className='settings-dropdown'>\n      <div className=\"btn-group\">\n        <button\n          type=\"button\"\n          className=\"btn btn-primary dropdown-toggle\"\n          data-toggle=\"dropdown\"\n          aria-haspopup=\"true\"\n          aria-expanded=\"false\"\n        >\n          {props.dropdownText}\n        </button>\n        <div className=\"dropdown-menu\" aria-labelledby=\"dropdownMenuButton\">\n          <span className=\"dropdown-item\" href=\"#\" onClick={props.onSelect}>25 yd</span>\n          <span className=\"dropdown-item\" href=\"#\" onClick={props.onSelect}>25 m</span>\n          <span className=\"dropdown-item\" href=\"#\" onClick={props.onSelect}>50 m</span>\n          <span className=\"dropdown-item\" href=\"#\" onClick={props.onCustomSwimClick}>Custom</span>\n        </div>\n      </div>\n    </div>\n  )\n}\n","import React from 'react'\n\nexport default function PrivacyMenu(props) {\n  return (\n    <div className='settings-dropdown'>\n      <div className=\"btn-group\">\n      <button\n        type=\"button\"\n        className=\"btn btn-primary dropdown-toggle\"\n        data-toggle=\"dropdown\"\n        aria-haspopup=\"true\"\n        aria-expanded=\"false\"\n      >\n        {props.dropdownText}\n      </button>\n      <div className=\"dropdown-menu\" aria-labelledby=\"dropdownMenuButton\">\n        <span className=\"dropdown-item\" onClick={props.onSelect}>everyone</span>\n        <span className=\"dropdown-item\" onClick={props.onSelect}>friends</span>\n        <span className=\"dropdown-item\" onClick={props.onSelect}>just me</span>\n      </div>\n      </div>\n    </div>\n  )\n}\n","import React from 'react'\nimport Popup from \"reactjs-popup\";\n\nexport default function PoolLengthPopup(props) {\n  return (\n    <Popup\n      open={props.showCustomSwimSettings}\n      closeOnDocumentClick\n      onClose={props.closeCustomSwimSettings}\n    >\n      <div className=\"popup-modal\">\n        <div className=\"close\" onClick={props.closeCustomSwimSettings}>\n          &times;\n        </div>\n        <div className=\"popup-header\">Set Custom Pool Length</div>\n        <div className=\"popup-content\">\n          <form onSubmit={props.setCustomSwimLength}>\n            <div className=\"input-group mt-3\">\n              <input type=\"number\"className=\"form-control\" onChange={props.onCustomSwimLengthChange} required min='5' max='100' step='.1'/>\n              <div className=\"input-group-append\">\n                <button\n                  className=\"btn btn-outline-secondary dropdown-toggle unit-select\"\n                  type=\"button\"\n                  data-toggle=\"dropdown\"\n                  aria-haspopup=\"true\"\n                  aria-expanded=\"false\"\n                >\n                  {props.customSwimUnits}\n                </button>\n                <div className=\"dropdown-menu\">\n                  <span className=\"dropdown-item\" onClick={props.setCustomSwimUnits}>Yards</span>\n                  <span className=\"dropdown-item\" onClick={props.setCustomSwimUnits}>Meters</span>\n                </div>\n              </div>\n            </div>\n\n            <div className='save-custom-swim-container'>\n              <input type=\"submit\" className=\"save-custom-swim-btn mt-3 btn btn-primary\" value=\"Done\" />\n            </div>\n          </form>\n        </div>\n      </div>\n    </Popup>\n  )\n}\n","import React, { Component } from 'react'\nimport SpaContext from \"../Context\"\nimport LoadingScreen from \"../generic/LoadingScreen\"\nimport {\n  withRouter\n} from \"react-router-dom\";\nimport {\n  getToken,\n  storageKey\n} from '../utils/storage';\n\nimport './settings.css'\nimport $ from 'jquery';\n\nimport UnitSystemMenu from \"./dropdown-menus/UnitSystemMenu\"\nimport PoolLengthMenu from \"./dropdown-menus/PoolLengthMenu\"\nimport PrivacyMenu from \"./dropdown-menus/PrivacyMenu\"\nimport PoolLengthPopup from \"./PoolLengthPopup\"\n\nimport Success from \"../messages/Success\"\nimport ErrorAlert from \"../messages/Error\"\nimport ENDPOINTS from '../endpoints'\n\nconst friendsListHelpMsg = 'Set who can see your friends list on you profile'\nconst fitnessHelpMsg = 'Set who can see your fitness stats such as average number of steps taken per day, calories burned, etc.'\nconst basicInfoHelpMsg = 'Set who can see descriptions about you such as your bio, height, weight, etc.'\nconst unitSystemHelpMsg = 'Set what unit system you would prefer to view measurements in'\nconst lapSwimHelpMsg = 'Set the default length of your lap swim pool. You can change this individually for each workout'\n// vars for checking which dropdown menu to display\nconst friendsListID = 'friends list'\nconst fitnessID = 'fitness'\nconst basicInfoID = 'info'\nconst swimLapID = 'swim lap'\nconst unitSystemID = 'unit system'\nconst settingsURL = ENDPOINTS.updateSettings\n\nclass Settings extends Component {\n  constructor(props) {\n    super(props)\n  \n    this.state = {\n      // show the custom swim popup or not\n      showCustomSwimSettings: false,\n      // display either yards or meters in custom swim popup by default\n      customSwimUnits: \"Yards\",\n      // user inputted swimming length\n      currCustomSwimLength: 25,\n      // custom swimming length to save in the format of: distance units\n      customSwimLength: \"\",\n\n      friendsListChoice: \"\",\n      fitnessChoice: \"\",\n      basicInfoChoice: \"\",\n      unitDisplayChoice: \"\",\n      swimLengthChoice: \"\",\n\n      //errors\n      errorMsgs: \"\",\n      successMsgs: \"\",\n    }\n    this.saveSettings = this.saveSettings.bind(this)\n    this.openCustomSwimSettings = this.openCustomSwimSettings.bind(this)\n    this.closeCustomSwimSettings = this.closeCustomSwimSettings.bind(this)\n    this.onCustomSwimClick = this.onCustomSwimClick.bind(this)\n\n    this.setFriendsListChoice = this.setFriendsListChoice.bind(this)\n    this.setFitnessChoice = this.setFitnessChoice.bind(this)\n    this.setBasicInfoChoice = this.setBasicInfoChoice.bind(this)\n    this.setUnitDisplayChoice = this.setUnitDisplayChoice.bind(this)\n    this.setSwimLengthChoice = this.setSwimLengthChoice.bind(this)\n    this.setCustomSwimUnits = this.setCustomSwimUnits.bind(this)\n    this.onCustomSwimLengthChange = this.onCustomSwimLengthChange.bind(this)\n    this.setCustomSwimLength = this.setCustomSwimLength.bind(this)\n\n    // errors\n    this.displayErrors = this.displayErrors.bind(this)\n    this.displaySuccesses = this.displaySuccesses.bind(this)\n  }\n  \n  // below is for initalizing tooltips\n  componentDidMount() {\n    $('[data-toggle=\"tooltip\"]').tooltip();\n    // debugger;\n  }\n  \n  componentDidUpdate() {\n    $('[data-toggle=\"tooltip\"]').tooltip();\n  }\n\n  async saveSettings() {\n    console.log('saving settings...')\n    var {\n      friendsListChoice,\n      fitnessChoice,\n      basicInfoChoice,\n      unitDisplayChoice,\n      swimLengthChoice,\n    } = this.state\n    var { settings } = this.context\n    // replace with what's already in the context if it's empty\n    friendsListChoice = friendsListChoice ? friendsListChoice : settings.seeFriendsList\n    fitnessChoice = fitnessChoice ? fitnessChoice : settings.seeFitness\n    basicInfoChoice = basicInfoChoice ? basicInfoChoice : settings.seeBasicInfo\n    unitDisplayChoice = unitDisplayChoice ? unitDisplayChoice : settings.unitSystem\n    swimLengthChoice = swimLengthChoice ? swimLengthChoice : settings.swimLap\n\n    console.log(friendsListChoice, fitnessChoice, basicInfoChoice, unitDisplayChoice, swimLengthChoice)\n    // get user token\n    const token = getToken(storageKey)\n    if (!token) {\n      // send them back to the login page\n      alert(\"Your session has expired. Please login again.\")\n      this.props.history.push(\"/\")\n      return\n    } \n\n    try {\n      var res = await fetch(settingsURL, {\n        method: \"POST\",\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          userToken: token,\n          seeFriendsList: friendsListChoice,\n          seeFitness: fitnessChoice,\n          seeBasicInfo: basicInfoChoice,\n          unitSystem: unitDisplayChoice,\n          swimLap: swimLengthChoice\n        })\n      })\n      var json = await res.json()\n      if (json.success) {\n        this.props.updateUserInfo()\n        this.setState({\n          successMsgs: \"Successfully saved your new settings\"\n        })\n      } else {\n        throw Error(json.messages.msg)\n      }\n    } catch(e) {\n      console.error(e)\n      this.setState({\n        errorMsgs: \"Something went wrong when trying to save your settings. Please try again later.\"\n      })\n    }\n  }\n\n  setFriendsListChoice(e) {\n    this.setState({\n      friendsListChoice: e.currentTarget.textContent,\n    })\n  }\n\n  setFitnessChoice(e) {\n    this.setState({\n      fitnessChoice: e.currentTarget.textContent,\n    })\n  }\n\n  setBasicInfoChoice(e) {\n    this.setState({\n      basicInfoChoice: e.currentTarget.textContent,\n    })\n  }\n\n  setUnitDisplayChoice(e) {\n    this.setState({\n      unitDisplayChoice: e.currentTarget.textContent,\n    })\n  }\n\n  openCustomSwimSettings() {\n    this.setState({\n      showCustomSwimSettings: true\n    })\n  }\n\n  closeCustomSwimSettings() {\n    this.setState({\n      showCustomSwimSettings: false\n    })\n  }\n\n  // causes the popup for entering custom swimming lap distance to open\n  onCustomSwimClick() {\n    this.setState({\n      showCustomSwimSettings: true\n    })\n  }\n\n  setSwimLengthChoice(e) {\n    this.setState({\n      swimLengthChoice: e.currentTarget.textContent,\n    })\n  }\n\n  setCustomSwimUnits(e) {\n    this.setState({\n      customSwimUnits: e.currentTarget.textContent,\n    })\n  }\n\n  onCustomSwimLengthChange(e) {\n    this.setState({\n      currCustomSwimLength: e.target.value\n    })\n  }\n\n  // saves the custom entered swimming pool length the user put in to the state \n  // in the format: \"distance units\"\n  setCustomSwimLength() {\n    var { customSwimUnits, currCustomSwimLength } = this.state\n    // user must have entered a swimming length\n    if (!currCustomSwimLength) {\n\n    }\n    // standardize for database\n    if (customSwimUnits === \"Meters\") {\n      customSwimUnits = \"m\"\n    } else {\n      customSwimUnits = 'yds'\n    }\n    // set the custom swim length that can be uploaded to database, and also\n    // close the modal\n    this.setState({\n      swimLengthChoice: `${currCustomSwimLength} ${customSwimUnits}`,\n      showCustomSwimSettings: false\n    })\n  }\n\n  renderDropDown(menuType, dropdownText) {\n    let {\n      friendsListChoice,\n      fitnessChoice,\n      basicInfoChoice,\n      unitDisplayChoice,\n      swimLengthChoice\n    } = this.state\n    if (menuType === friendsListID) {\n      return ( \n        <PrivacyMenu\n          dropdownText={friendsListChoice ? friendsListChoice : dropdownText}\n          onSelect={this.setFriendsListChoice}\n        />\n      )\n    } else if (menuType === fitnessID) {\n      return (<PrivacyMenu dropdownText={fitnessChoice ? fitnessChoice : dropdownText} onSelect={this.setFitnessChoice}/>)\n    } else if (menuType === basicInfoID) {\n      return (<PrivacyMenu dropdownText={basicInfoChoice ? basicInfoChoice : dropdownText} onSelect={this.setBasicInfoChoice}/>)\n    } else if (menuType === unitSystemID) {\n      return (<UnitSystemMenu dropdownText={unitDisplayChoice ? unitDisplayChoice : dropdownText} onSelect={this.setUnitDisplayChoice}/>)\n    } else if (menuType === swimLapID) {\n      return (\n        <PoolLengthMenu\n          dropdownText={swimLengthChoice ? swimLengthChoice : dropdownText}\n          onCustomSwimClick={this.onCustomSwimClick}\n          onSelect={this.setSwimLengthChoice}\n        />\n      )\n    } else {\n      alert('error showing menu')\n    }\n  }\n\n  displayErrors() {\n    const clearErrors = () => {\n      console.log(\"clearing errors...\")\n      this.setState({\n        errorMsgs: \"\"\n      })\n    }\n    if (this.state.errorMsgs) {\n      return (\n        <div className=\"msg-container\">\n          <ErrorAlert msg={this.state.errorMsgs} onClose={clearErrors}/>\n        </div>\n      )\n    } else {\n      return null\n    }\n  }\n  \n  displaySuccesses() {\n    const clearSuccesses = () => {\n      this.setState({\n        successMsgs: \"\"\n      })\n    }\n    if (this.state.successMsgs) {\n      return (\n        <div className=\"msg-container\">\n          <Success msg={this.state.successMsgs} onClose={clearSuccesses}/>\n        </div>\n      )\n    } else {\n      return null\n    }\n  }\n\n  render() {\n    let { settings } = this.context\n    // if the firstname in the context is blank then it hasnt finished populating yet\n    console.log(\"rendering settings\")\n    if (!this.context.firstName) {\n      return ( <LoadingScreen/>)\n    } else {\n      return (\n        <div className='settings-container'>\n          <h3 className='settings-header mt-3 pb-3'>Settings</h3>\n          <PoolLengthPopup \n            showCustomSwimSettings={this.state.showCustomSwimSettings}\n            closeCustomSwimSettings={this.closeCustomSwimSettings}\n            onCustomSwimLengthChange={this.onCustomSwimLengthChange}\n            setCustomSwimUnits={this.setCustomSwimUnits}\n            setCustomSwimLength={this.setCustomSwimLength}\n            customSwimUnits={this.state.customSwimUnits}\n          />\n          <ul className='settings-list'>\n            <li className='settings-list-item'>\n              <i\n                className=\"fa help-icon\"\n                data-toggle=\"tooltip\"\n                data-placement=\"top\"\n                title={friendsListHelpMsg}\n              >\n                &#xf059;\n              </i>\n              <span className='setting-text'>Who can see your friends list?</span>\n              {this.renderDropDown(friendsListID, settings.seeFriendsList)}\n            </li>\n            <li className='settings-list-item'>\n              <i\n                className=\"fa help-icon\"\n                data-toggle=\"tooltip\"\n                data-placement=\"top\"\n                title={fitnessHelpMsg}\n              >\n                &#xf059;\n              </i>\n              <span className='setting-text'>Who can see your fitness?</span>\n              {this.renderDropDown(fitnessID, settings.seeFitness)}\n            </li>\n            <li className='settings-list-item'>\n              <i\n                className=\"fa help-icon\"\n                data-toggle=\"tooltip\"\n                data-placement=\"top\"\n                title={basicInfoHelpMsg}\n              >\n                &#xf059;\n              </i>\n              <span className='setting-text'>Who can see your basic info?</span>\n              {this.renderDropDown(basicInfoID, settings.seeBasicInfo)}\n            </li>\n            <li className='settings-list-item'>\n              <i\n                className=\"fa help-icon\"\n                data-toggle=\"tooltip\"\n                data-placement=\"top\"\n                title={unitSystemHelpMsg}\n              >\n                &#xf059;\n              </i>\n              <span className='setting-text'>Unit system to display</span>\n              {this.renderDropDown(unitSystemID, settings.unitSystem)}\n            </li>\n            <li className='settings-list-item'>\n              <i\n                className=\"fa help-icon\"\n                data-toggle=\"tooltip\"\n                data-placement=\"top\"\n                title={lapSwimHelpMsg}\n              >\n                &#xf059;\n              </i>\n              <span className='setting-text'>Default swimming pool length</span>\n              {this.renderDropDown(swimLapID, settings.swimLap)}\n            </li>\n            <li className='settings-list-item' id='save-settings-list-item'>\n              <div className='help-icon empty-space'></div>\n              <div className='setting-text empty-space'></div>\n              <div className='save-settings'>\n                <button \n                  className='save-settings-btn btn btn-primary'\n                  onClick={this.saveSettings}\n                >\n                  Save\n                </button>\n              </div>\n            </li>\n          </ul>\n          {this.displayErrors()}\n          {this.displaySuccesses()}\n        </div>\n      )\n    }\n  }\n}\nSettings.contextType = SpaContext\nexport default withRouter(Settings)","import React, { Component } from 'react'\nimport {\n  getFromLocalStorage,\n  getFromSessionStorage,\n  storageKey,\n} from '../utils/storage';\nimport ENDPOINTS from \"../endpoints\"\nconst updateSettingsURL = ENDPOINTS.updateSettings\n\nfunction getToken() {\n  var lsUserToken = getFromLocalStorage(storageKey)\n  var ssUserToken = getFromSessionStorage(storageKey)\n  if (lsUserToken) {\n    return lsUserToken.token\n  } else if (ssUserToken) {\n    return ssUserToken.token\n  } else {\n    return null\n  }\n}\n\nexport default class Stats extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      unitSystem: \"\"\n    }\n    this.submitSettings = this.submitSettings.bind(this)\n    this.radioChange = this.radioChange.bind(this)\n  }\n\n  async submitSettings(e) {\n    e.preventDefault()\n    var reqBody = { ...this.state, userToken: getToken() }\n    var res = await fetch(updateSettingsURL, {\n      method: \"POST\",\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(reqBody),\n    })\n    var json = await res.json()\n    alert(json.success)\n  }\n  \n  componentDidMount() {\n    // debugger;\n  }\n\n  radioChange(e) {\n    this.setState({\n      unitSystem: e.currentTarget.value\n    })\n  }\n\n  checkUnitSystem(system) {\n    var { unitSystem } = this.state\n    if (this.state.unitSystem) {\n      return unitSystem === system\n    }\n    return false\n  }\n\n  render() {\n    return (\n      <div>\n        Stats settings\n        <form onSubmit={this.submitSettings}>\n          <div>\n            <label htmlFor=\"english-units\">English</label>\n            <input\n              id=\"english-units\"\n              name=\"unit-system-input\"\n              type=\"radio\"\n              value=\"english\"\n              checked={this.checkUnitSystem(\"english\")}\n              onChange={this.radioChange}\n            />\n            <label htmlFor=\"metric-units\">Metric</label>\n            <input\n              id=\"metric-units\"\n              name=\"unit-system-input\"\n              type=\"radio\"\n              value=\"metric\"\n              checked={this.checkUnitSystem(\"metric\")}\n              onChange={this.radioChange}\n            />\n          </div>\n          <div>\n            <input type=\"submit\" value=\"Update\"></input>\n          </div>\n        </form>\n      </div>\n    )\n  }\n}\n","import React, { Component } from 'react'\nimport {\n  NavLink,\n  withRouter\n} from \"react-router-dom\";\nimport \"./css/sidebar.css\"\nimport SpaContext from '../Context';\n\nconst imgAlt = \"../profile/default_profile.png\"\n\n\nclass Navbar extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      sideNavStyle: {\n        width: \"0px\",\n        clicked: false,\n        selected: \"\"\n      }\n    }\n  }\n\n  /* Set the width of the side navigation to 65%. MAKE SURE PARENT HAS WIDTH */\n  openNav() {\n    document.getElementById(\"mySidenav\").style.width = \"65%\";\n  }\n\n  /* Set the width of the side navigation to 0 */\n  closeNav(e) {\n    document.getElementById(\"mySidenav\").style.width = \"0\";\n  }\n\n  render() {\n    var { homeURL, communityURL, fitnessURL, profileURL, settingsURL, logout } = this.props\n    return (\n      <div className=\"navbar-container\">\n        <span className=\"expander\" onClick={this.openNav}>&#9776;</span>\n        <div id=\"mySidenav\" className=\"sidenav\">\n          <span className=\"closebtn\" onClick={this.closeNav}>&times;</span>\n          <div className=\"prof-pic-container\">\n            <img src={this.context.profilePicture.profileURL} height=\"75%\" width=\"75%\" alt={imgAlt}/>\n          </div>\n          <NavLink \n            className='nav-link'\n            exact to={homeURL} \n            onClick={this.closeNav}\n          >\n            Home\n          </NavLink>\n          <NavLink \n            className=\"nav-link\"\n            to={{pathname: communityURL}}\n            onClick={this.closeNav}\n          >\n            Community\n          </NavLink>\n          <NavLink\n            className=\"nav-link\"\n            to={{pathname: fitnessURL}}\n            onClick={this.closeNav}\n          >\n            Fitness\n          </NavLink>\n          <NavLink\n            className=\"nav-link\"\n            to={{pathname: profileURL}}\n            onClick={this.closeNav}\n          >\n            Profile\n          </NavLink>\n          <NavLink\n            className='nav-link'\n            to={{pathname: settingsURL}}\n            onClick={this.closeNav}\n          >\n            Settings\n          </NavLink>\n          <span\n            className='nav-link'\n            onClick={logout}\n          >\n            Logout\n          </span>\n        </div>\n      </div>\n    )\n  }\n}\nNavbar.contextType = SpaContext\nexport default withRouter(Navbar)","import React, { Component } from 'react'\nimport SpaContext from '../Context'\nimport \"./home.css\"\nimport Particles from 'react-particles-js';\nclass Home extends Component {\n  constructor(props) {\n    super(props)\n  \n    this.state = {\n       \n    }\n  }\n  render() {\n    var { context } = this\n    return (\n      <div className='homepage'>\n        <h1>Welcome, {context.firstName}</h1>\n        <Particles\n          className='particles-container'\n          params={{\n            \"particles\": {\n              \"number\": {\n                \"value\": 50\n              },\n              \"size\": {\n                \"value\": 3\n              },\n              'line_linked': {\n                opacity: .6\n              }\n            },\n            \"interactivity\": {\n              \"events\": {\n                \"onhover\": {\n                  \"enable\": true,\n                  \"mode\": \"grab\"\n                },\n              },\n              'modes': {\n                'grab': {\n                  'line_linked': {\n                    opacity: .9,\n                  },\n                  'distance': 200,\n                }\n              }\n            }\n          }}\n        />\n      </div>\n    )\n  }\n}\nHome.contextType = SpaContext\nexport default Home\n","import React, { Component } from 'react'\nimport {\n  NavLink,\n  withRouter\n} from \"react-router-dom\";\nimport \"./css/sideMenu.css\"\nimport SpaContext from '../Context';\n\nconst imgAlt = \"../profile/default_profile.png\"\n\nclass SideMenu extends Component {\n  render() {\n    const { homeURL, communityURL, fitnessURL, profileURL, settingsURL, logout } = this.props\n    return (\n      <div className=\"sidemenu-container\">\n        <div id=\"mySidenav\" className=\"sideMenu\">\n          <div className=\"prof-pic-container\">\n            <img src={this.context.profilePicture.profileURL} height=\"75%\" width=\"75%\" alt={imgAlt}/>\n          </div>\n          <NavLink \n            className='nav-link'\n            exact to={homeURL} \n            onClick={this.closeNav}\n          >\n            Home\n          </NavLink>\n          <NavLink \n            className=\"nav-link\"\n            to={{pathname: communityURL}}\n            onClick={this.closeNav}\n          >\n            Community\n          </NavLink>\n          <NavLink\n            className=\"nav-link\"\n            to={{pathname: fitnessURL}}\n            onClick={this.closeNav}\n          >\n            Fitness\n          </NavLink>\n          <NavLink\n            className=\"nav-link\"\n            to={{pathname: profileURL}}\n            onClick={this.closeNav}\n          >\n            Profile\n          </NavLink>\n          <NavLink\n            className='nav-link'\n            to={{pathname: settingsURL}}\n            onClick={this.closeNav}\n          >\n            Settings\n          </NavLink>\n          <span\n            className='nav-link'\n            onClick={logout}\n          >\n            Logout\n          </span>\n        </div>\n      </div>    \n    )\n  }\n}\nSideMenu.contextType = SpaContext\nexport default withRouter(SideMenu)","import React, { Component } from \"react\";\nimport SpaContext from \"../Context\"\nimport Community from \"../community/Community\"\nimport Fitness from \"../fitness/Fitness\"\nimport RunDetails from \"../fitness/run/RunDetails\"\nimport SwimDetails from \"../fitness/swim/SwimDetails\"\nimport JumpDetails from \"../fitness/jump/JumpDetails\"\nimport Profile from \"../profile/Profile\"\n// import EditProfile from \"../profile/EditProfile\"\nimport Settings from \"../settings/Settings\"\nimport Stats from \"../settings/Stats\"\nimport Navbar from \"../generic/Navbar\"\nimport Home from \"./Home\";\nimport SideMenu from \"../generic/SideMenu\"\nimport FriendDisplay from \"../community/friends/FriendDisplay\"\n// Be sure to include styles at some point, probably during your bootstraping\nimport '@trendmicro/react-sidenav/dist/react-sidenav.css';\nimport './header.css'\n\nimport \"../transitions.css\"\nimport Media from 'react-media';\n\n// web sockets\nimport io from \"socket.io-client\"\n\nimport {\n  getBests,\n  getProfile,\n  getUsername\n} from \"../utils/userInfo\"\n\nimport {\n  Route,\n  withRouter,\n  Switch\n} from \"react-router-dom\";\n\nimport {\n  getToken,\n  removeFromLocalStorage,\n  removeFromSessionStorage,\n  storageKey,\n} from '../utils/storage';\nimport EditProfileFunc from \"../profile/EditProfileFunc\";\nimport ENDPOINTS from \"../endpoints\"\n// server url\nconst getUserInfoURL = ENDPOINTS.getUserInfo\nconst defaultProfile = \"./profile/default_profile.png\"\nconst root = \"/app\"\n\nconst imgAlt = \"../profile/default_profile.png\"\n\nconst sidebarMediaQuery = '600px'\nconst dataURL = ENDPOINTS.getData\nclass Header extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      friends: [],\n      friendRequests: [],\n      friendsPending: [],\n      firstName: \"\",\n      lastName: \"\",\n      username: \"\",\n      gender: \"\",\n      bio: \"\",\n      height: \"\",\n      weight: \"\",\n      age: \"\",\n      profilePicture: \"\",\n      settings: {},\n      isLoading: false,\n      logout: false,\n      // socket: null,\n      notification: null,\n      mounted: false,\n      rootURL: this.props.match.url,\n      friendTableRows: [],\n      numFriendsDisplay: 25,\n      jumpJson: {\n        activityData: [],\n        action: \"jump\",\n        imageUrl: \"https://img.icons8.com/ios/50/000000/trampoline-park-filled.png\"\n      },\n      runJson: {\n        activityData: [],\n        action: \"run\",\n        imageUrl: \"https://img.icons8.com/nolan/64/000000/running.png\",\n      },\n      swimJson: {\n        activityData: [],\n        action: \"swim\",\n        imageUrl: \"https://img.icons8.com/nolan/64/000000/swimming.png\"\n      },\n    }\n    this.logout = this.logout.bind(this);\n    // this.setUpSocket = this.setUpSocket.bind(this)\n    this.getActivityJson = this.getActivityJson.bind(this)\n    this.addFriendRows = this.addFriendRows.bind(this)\n    this.renderHeader = this.renderHeader.bind(this)\n    this.updateUserInfo = this.updateUserInfo.bind(this)\n  }\n\n  // setUpSocket() {\n  //   var prom = new Promise(async (resolve, reject) => {\n  //     // send request to get decoded user ID\n  //     var userToken = getToken()\n  //     var headers = new Headers()\n  //     headers.append(\"authorization\", `Bearer ${userToken}`)\n  //     var response = await fetch(ENDPOINTS.tokenToID, { method: \"GET\", headers })\n  //     var json = await response.json()\n  //     var { userID } = json\n\n  //     // establish socket connection and send socket ID, userID\n  //     var data = { userID }\n  //     var connectionOptions = {\n  //       'sync disconnect on unload':false\n  //     }\n  //     var socket = io.connect(serverURL, connectionOptions)\n\n  //     // send userID after socket connects\n  //     socket.on(\"connect\", () => {\n  //       socket.emit(\"sendUserID\", data)\n  //       // put socket is session storage\n  //     })\n\n  //     socket.on('receiveFriendRequest', (data) => {\n  //       alert(\"got friend request!\")\n  //       console.log(data)\n  //       this.setState({\n  //         notification: \"!\"\n  //       })\n  //     })\n\n  //     socket.on(\"newFriend\", (data) => {\n  //       alert(\"got new friend\")\n  //       console.log(data)\n  //       this.setState({\n  //         notification: \"***\"\n  //       })\n  //     })\n\n  //     socket.on(\"logoutClient\", (data) => {\n  //       // data should contain the socketID that did the logging out\n  //       // socket should have also been disconnected by the server\n  //       var { logoutSocketID } = data\n  //       console.log(logoutSocketID)\n  //       if (socket.id !== logoutSocketID) {\n  //         alert(\"You have been logged out from another tab or browser\")\n  //       }\n  //       // remove user token\n  //       removeFromLocalStorage(storageKey)\n  //       removeFromSessionStorage(storageKey)\n  //       // remove socket id from session storage\n  //       this.setState({\n  //         isLoading: true,\n  //         logout: true,\n  //       });\n  //       this.props.history.push(\"/\")\n  //     })\n  //     resolve(socket)\n  //   })\n  //   return prom\n  // }\n\n  async getActivityJson(activity) {\n    // CHANGE TO GET THE FIRST 10-50 ENTRIES MAYBE\n    var headers = new Headers()\n    var token = getToken()\n    headers.append(\"authorization\", `Bearer ${token}`)\n    headers.append(\"activity\", activity)\n\n    var res = await fetch(dataURL, {\n      method: \"GET\",\n      headers: headers,\n    })\n    var trackedFitness = await res.json()\n    return trackedFitness\n  }\n\n  /**\n   * for each friend in the friend array, return\n   * a table row to show in the friends table\n   */  \n  async addFriendRows(friends, numFriendsDisplay) {\n    var tableRows = []\n\n    // DONT FORGET TO SORT FRIENDS\n    for (let i = 0; i < friends.length; i++) {\n      if (i === numFriendsDisplay - 1) { break }\n      let { id, firstName, lastName } = friends[i]\n      let [bests, profileUrl, username] = await Promise.all([getBests(id), getProfile(id), getUsername(id)])\n      tableRows.push(\n        <FriendDisplay \n          key={id}\n          isFriend={true}\n          isFriendRequest={false}\n          rank={i + 1}\n          onClick={() => {this.props.history.push(`/app/profile/${username}`)}}\n          profileUrl={profileUrl}\n          defaultProfile={defaultProfile}\n          imgAlt={imgAlt}\n          firstName={firstName}\n          lastName={lastName}\n          bests={bests}\n        />\n      )\n    }\n    return tableRows\n  }\n\n  async componentDidMount() {\n    this._isMounted = true\n    // if there is no token then user hasn't logged in...\n    // log them out and redirect them back to login page,\n    // and don't run the rest of this method cuz it involves setting\n    // up stuff as if the user had logged in\n    var userToken = getToken()\n    if (!userToken) {\n      this.setState({\n        logout: true\n      })\n      this.props.history.push(\"/\")\n      return\n    }\n\n    // set up the web socket connection to server\n    // var socket = await this.setUpSocket()\n\n    // get the user's information here from database\n    // make request to server to user information and set state\n    var headers = new Headers()\n    headers.append(\"authorization\", `Bearer ${userToken}`)\n    try {\n      var res = await fetch(getUserInfoURL, { method: \"GET\", headers })\n      var userJson = await res.json()\n    } catch(e) {\n      console.error(e)\n    }\n    console.log(userJson)\n\n    var { numFriendsDisplay } = this.state\n    try {\n      var friendTableRows = await this.addFriendRows(userJson.friends, numFriendsDisplay)\n    } catch(e) {\n      console.error(e)\n    }\n\n    // get user's fitness data for jumps, runs, swims\n    // MAKE AWAIT PROMISES.ALL LATER\n    try {\n      var jumpsTracked = await this.getActivityJson(\"jump\")\n      var swimsTracked = await this.getActivityJson(\"swim\")\n      var runsTracked = await this.getActivityJson(\"run\")\n    } catch(e) {\n      console.error(e)\n    }\n    var gotAllInfo = userJson.success && jumpsTracked.success && swimsTracked.success && runsTracked.success\n    if (gotAllInfo && this._isMounted) {\n      // one bug that could come up is if another setState occurred outside this function before\n      // the fetch response finished running. This delayed setState would then\n      // run after the other setState which could cause some mixups in which state is correct\n      // Shouldn't be a problem thoughsince the socket field is only updated here and users can't see it.\n      this.setState(prevState => ({\n        ...userJson,\n        // socket,\n        mounted: true,\n        friendTableRows,\n        jumpJson: {\n          ...prevState.jumpJson,\n          activityData: jumpsTracked.activityData \n        },\n        runJson: {\n          ...prevState.runJson,\n          activityData: runsTracked.activityData \n        },\n        swimJson: {\n          ...prevState.swimJson,\n          activityData: swimsTracked.activityData \n        }\n      }))\n    } else {\n      alert(\"not success\")\n    }\n  }\n\n  componentWillUnmount() {\n    this._isMounted = false\n    console.log(\"unmounting header...\")\n  }\n\n  logout() {\n    console.log(\"logging out...\")\n    // var { socket } = this.state\n    // console.log(socket)\n    removeFromLocalStorage(storageKey)\n    removeFromSessionStorage(storageKey)\n    // remove socket id from session storage\n    this.setState({\n      isLoading: true,\n      logout: true,\n    });\n    this.props.history.push(\"/\")\n    // emit logout event to server\n    // var userToken = getToken()\n    // var data = { userToken }\n    // socket.emit(\"logoutServer\", data)\n  }\n\n  renderHeader() {\n    const { match } = this.props\n    // if there is a token in session or local storage...\n    if (getToken()) {\n      return (\n        <div className=\"header w-100\">\n          <div className=\"d-flex align-items-center w-100 h-100\">\n            <span className='header-title position-absolute w-100'>\n              Athlos Tracker\n            </span>\n            {/* dont display the sidebar opener (the thing with three lines) unless it's a phone */}\n            <Media query={`(max-width: ${sidebarMediaQuery})`} render={() => \n              (\n                <div className=\"navbar-container ml-3 mt-auto mb-auto\">\n                  <Navbar\n                    homeURL=\"/app\"\n                    communityURL={`${match.url}/community`}\n                    fitnessURL={`${match.url}/fitness`}\n                    profileURL={`${match.url}/profile/${this.state.username}`}\n                    settingsURL={`${match.url}/settings`}\n                    logout={this.logout}\n                  />\n                </div>\n              )}\n            />\n          </div>\n        </div>\n      )\n    } else {\n      // no token, redirect to login\n      alert('no token in the storage...')\n      this.props.history.push(\"/\")\n    }\n  }\n\n  renderSideMenu() {\n    const { match } = this.props\n    return (\n      <Media query={`(min-width: ${sidebarMediaQuery})`} render={() => \n        (\n          <div className='col-md-3 sideMenu-container'>\n            <div className='card text-center'>\n              <div className=\"sideMenu-container\">\n                <SideMenu\n                  homeURL=\"/app\"\n                  communityURL={`${match.url}/community`}\n                  fitnessURL={`${match.url}/fitness`}\n                  profileURL={`${match.url}/profile/${this.state.username}`}\n                  settingsURL={`${match.url}/settings`}\n                  logout={this.logout}\n                />\n              </div>\n            </div>\n          </div>\n        )}\n      />\n    )\n  }\n\n  // updates the state and therefore the context if the user info is suspected\n  // to change. For example if the user changes their settings we want the new\n  // settings to be applied automatically. For now only used for settings.\n  async updateUserInfo() {\n    // get the user's information here from database\n    // make request to server to user information and set state\n    var userToken = getToken()\n    var headers = new Headers()\n    headers.append(\"authorization\", `Bearer ${userToken}`)\n\n    var res = await fetch(getUserInfoURL, { method: \"GET\", headers })\n    var userJson = await res.json()\n    this.setState(prevState => ({\n      ...userJson,\n      // socket: prevState.socket,\n      mounted: true,\n      friendTableRows: prevState.friendTableRows,\n      jumpJson: prevState.jumpJson,\n      runJson: prevState.runJson,\n      swimJson: prevState.swimJson,\n    }))\n  }\n\n  render() {\n    console.log(\"rendering header...\")\n    // renders the general layout of the application\n    return (\n      <div className=\"home-container\">\n        <SpaContext.Provider value={this.state}>\n          <div className='row'>\n            <div className='col-12'>\n              {this.renderHeader()} \n            </div>\n          </div>\n          {/* only returns elements if it's not a phone */}\n          <div className='mt-3 ml-2 p-1 content'>\n            {this.renderSideMenu()}\n            <div className='col-md-9 col-12 page-container'>\n              <div className=\"card text-center h-100\">\n                <Switch location={this.props.location}>\n                  <Route exact path={`${root}`} component={Home}/>\n                  <Route path={`${root}/community`} component={Community}/>\n                  <Route path={`${root}/fitness`} component={Fitness}/>\n                  <Route path={`${root}/jumpDetails`} component={JumpDetails}/>\n                  <Route path={`${root}/swimDetails`} component={SwimDetails}/>\n                  <Route path={`${root}/runDetails`} component={RunDetails}/>\n                  <Route exact path={`${root}/profile/:username?`} component={Profile}/>\n                  {/* <Route path={`${root}/profile/:username?/edit`} component={EditProfile}/> */}\n                  <Route path={`${root}/profile/:username?/edit`} component={EditProfileFunc}/>\n                  <Route\n                    exact path={`${root}/settings`}\n                    render={(props) => <Settings {...props} updateUserInfo={this.updateUserInfo} />}\n                  />\n                  <Route path={`${root}/settings/stats`} component={Stats}/>\n                </Switch>\n              </div>\n            </div>\n          </div>\n        </SpaContext.Provider>\n      </div>\n    )\n  }\n}\n\nexport default withRouter(Header);\n","import React, { Component } from 'react'\nimport './App.css'\nimport {\n  Route,\n  withRouter,\n} from \"react-router-dom\";\n\nimport Login from \"./login/Login\"\nimport Confirmation from \"./login/Confirmation\"\nimport PwResetPage from \"./login/PwResetPage\"\n\nimport Header from \"./home/Header\"\nimport \"./transitions.css\"\n\n// server url\nconst root = \"/app\"\n\nclass Spa extends Component {\n  render() {\n    console.log(\"rendering spa...\")\n    return (\n      <div className=\"App\">\n        <Route exact path=\"/\" component={Login} />\n        <Route path=\"/confirmation\" component={Confirmation} />\n        <Route path=\"/pwResetPage\" component={PwResetPage} /> \n        {/* intentionally render the header component with all the others (no switch) */}\n        <Route path={`${root}`} component={Header}/>\n      </div>\n    )\n  }\n}\n\nexport default withRouter(Spa)\n","import React, { Component } from 'react'\nimport './App.css'\nimport {\n  BrowserRouter,\n} from \"react-router-dom\";\nimport Spa from \"./Spa\"\nimport \"./transitions.css\"\n\nclass App extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      user: null,\n    }\n  }\n\n  render() {\n    return (\n      <BrowserRouter>\n        <Spa />\n      </BrowserRouter>\n    )\n  }\n}\n\nexport default App\n","// bootstrap imports for webpack\nimport 'bootstrap/dist/css/bootstrap.css';\n// import $ from 'jquery';\n// import Popper from 'popper.js';\nimport 'bootstrap/dist/js/bootstrap.bundle.min';\n\nimport React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\n\n//core ui\nimport \"@coreui/coreui\"\n\n//font awesome\nimport { library } from '@fortawesome/fontawesome-svg-core'\n// import { fab } from '@fortawesome/free-brands-svg-icons'\nimport { faCheckSquare, faCoffee, faAtom, faFireAlt, faClock } from '@fortawesome/free-solid-svg-icons'\n\nimport App from './App.js'\n\nlibrary.add(faCheckSquare, faCoffee, faAtom, faFireAlt, faClock)\n\nReactDOM.render(<App />, document.getElementById('root'))\n","// save tokens to the browser storage to remember if user signed in or not\nconst storageKey =  \"the_main_app\"\nconst socketStorageKey = \"socket\"\nfunction getFromLocalStorage(key) {\n  if (!key) {\n    return null;\n  }\n  try {\n    const valueStr = localStorage.getItem(key);\n    if (valueStr) {\n      return JSON.parse(valueStr);\n    }\n    return null;\n  } catch (err) {\n    return null;\n  }\n}\n\nfunction getFromSessionStorage(key) {\n  if (!key) {\n    return null;\n  }\n  try {\n    const valueStr = sessionStorage.getItem(key);\n    if (valueStr) {\n      return JSON.parse(valueStr);\n    }\n    return null;\n  } catch (err) {\n    return null;\n  }\n}\n\nfunction getToken() {\n  var lsUserToken = getFromLocalStorage(storageKey)\n  var ssUserToken = getFromSessionStorage(storageKey)\n  if (lsUserToken) {\n    return lsUserToken.token\n  } else if (ssUserToken) {\n    return ssUserToken.token\n  } else {\n    return null\n  }\n}\n\nfunction setInLocalStorage(key, obj) {\n  if (!key) {\n    console.error('Error: Key is missing');\n  }\n  try {\n    localStorage.setItem(key, JSON.stringify(obj));\n  } catch (err) {\n    console.error(err);\n  }\n}\n\nfunction removeFromLocalStorage(key) {\n  localStorage.removeItem(key)\n}\n\nfunction removeFromSessionStorage(key) {\n  sessionStorage.removeItem(key)\n}\n\nfunction setInSessionStorage(key, obj) {\n  if (!key) {\n    console.error('Error: Key is missing');\n  }\n  try {\n    sessionStorage.setItem(key, JSON.stringify(obj));\n  } catch (err) {\n    console.error(err);\n  }\n}\n\nmodule.exports = {\n  getFromLocalStorage,\n  setInLocalStorage,\n  removeFromLocalStorage,\n  removeFromSessionStorage,\n  setInSessionStorage,\n  getFromSessionStorage,\n  getToken,\n  storageKey,\n  socketStorageKey,\n}\n"],"sourceRoot":""}